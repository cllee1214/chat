!function(e){function t(t){for(var o,r,a=t[0],l=t[1],c=t[2],u=0,p=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(d&&d(t);p.length;)p.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],o=!0,a=1;a<i.length;a++){var l=i[a];0!==n[l]&&(o=!1)}o&&(s.splice(t--,1),e=r(r.s=i[0]))}return e}var o={},n={0:0},s=[];function r(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],i=n[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise((function(t,o){i=n[e]=[t,o]}));t.push(i[2]=o);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.src=function(e){return r.p+"js/"+({}[e]||e)+"."+{2:"9f0fb155b88262b9f2ba",3:"35b2a11b6f073cd1812f",4:"7f62300bc3c160a04973"}[e]+".js"}(e);var l=new Error;s=function(t){a.onerror=a.onload=null,clearTimeout(c);var i=n[e];if(0!==i){if(i){var o=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",l.name="ChunkLoadError",l.type=o,l.request=s,i[1](l)}n[e]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(t)},r.m=e,r.c=o,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(i,o,function(t){return e[t]}.bind(null,o));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var d=l;s.push([141,1]),i()}([,,,,function(e,t,i){"use strict";const o={set(e,t){localStorage.setItem(e,JSON.stringify(t))},get:e=>JSON.parse(localStorage.getItem(e)),remove(e){localStorage.removeItem(e)},clear(){localStorage.clear()}};t.a=o},,,,,,,,,,function(e,t,i){var o=i(77);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(80);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(82);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(84);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(86);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(89);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(93);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(123);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(126);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(128);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(130);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(132);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(134);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){var o=i(136);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},,,,,,,,,,,function(e,t,i){"use strict";const o={filters:{renderImgPath(e){if(!e)return"/image/avatar/default.png";var t=/\\avatar\\\d+\.\w+/.exec(e);return t?t[0].replace(/\\/g,"/"):e}}};t.a=o},,,,,,,,,,,,,,,,,,,,,function(e,t,i){var o=i(124);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var o=i(14);i.n(o).a},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,"#container{height:100%;width:100%;overflow:hidden}body,html{height:100%;width:100%}body,html,ul,ol,li,p,h1,h2,h3,h4,h5,h6,form,fieldset,table,td,img,div{margin:0;padding:0;border:0}ul,ol{list-style-type:none}a{text-decoration:none}a:link{color:#009}a:visited{color:#800080}a:hover,a:active,a:focus{color:#c00;text-decoration:underline}\n",""])},,function(e,t,i){"use strict";var o=i(15);i.n(o).a},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,".full{width:100%}#modal{width:100%;height:100%;position:fixed;z-index:997}#modal-mask{width:100%;height:100%;position:fixed;z-index:998;opacity:0.4;background:#ccc}#modal-box{width:70%;position:fixed;left:50%;top:50%;transform:translate(-50%, -50%);border:1px solid #ccc;z-index:999;background:#fff}#modal-box .modal-mask{width:100%;height:100%;position:fixed;z-index:998}#modal-box .content{padding:.53333rem 0;font-size:16px;text-align:left;width:90%;margin:auto}#modal-box .btns{width:100%;display:flex;font-size:16px;border-top:1px solid #ccc}#modal-box .btns .btn{flex:1;text-align:center;height:1.06667rem;line-height:1.06667rem}#modal-box .btns .btn:first-child{border-right:1px solid #ccc;box-sizing:border-box}\n",""])},function(e,t,i){"use strict";var o=i(16);i.n(o).a},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,".full{width:100%}.seach-box{width:90%;margin:auto;display:flex;height:1.6rem;padding-top:1.6rem}.seach-box input{flex:8;text-indent:.13333rem}.seach-box .seach{background-color:#4a596b;color:#fff;flex:2;text-align:center;font-size:16px;line-height:1.6rem}.result-box{width:90%;margin:auto;border:1px solid #ccc;padding-bottom:.53333rem;padding-top:.53333rem;font-size:16px;text-align:center}.result-box .add-friend-requst{width:50%;margin:auto;height:1.06667rem;line-height:1.06667rem;background-color:#4a596b;color:#fff;text-align:center;margin-top:.26667rem;font-size:16px}.result-box .add-friend-requst.disabled{background-color:#ccc}\n",""])},function(e,t,i){"use strict";var o=i(17);i.n(o).a},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,".full{width:100%}.top-title{text-align:center;height:1.33333rem;border-bottom:1px solid #ccc;position:relative}.show-title{font-size:16px;line-height:1.33333rem}.goback{height:100%;width:1.33333rem;line-height:1.33333rem;color:#ccc;position:absolute;left:0}\n",""])},function(e,t,i){"use strict";var o=i(18);i.n(o).a},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,".tips{width:60%;height:30px;border:1px solid #ccc;position:fixed;top:20%;font-size:16px;text-align:center;line-height:30px;left:50%;transform:translateX(-50%);background:#4a596b;color:#fff;font-size:14px}\n",""])},function(e,t){!function(e){var t,i='<svg><symbol id="icon-icon-test" viewBox="0 0 1024 1024"><path d="M896 128H128a32 32 0 0 0-32 32v576a32 32 0 0 0 32 32h288v-64H160V192h704v512h-256c-8.832 0-16.832 3.584-22.656 9.376l-159.968 160 45.248 45.248L621.248 768H896a32 32 0 0 0 32-32V160a32 32 0 0 0-32-32"   ></path><path d="M560 448a48 48 0 1 0-95.968-0.032A48 48 0 0 0 560 448M240 448a48 48 0 1 0 95.968 0.032A48 48 0 0 0 240 448M784 448a48 48 0 1 0-95.968-0.032A48 48 0 0 0 784 448"   ></path></symbol><symbol id="icon-icon-test1" viewBox="0 0 1024 1024"><path d="M192 448c0-141.152 114.848-256 256-256s256 114.848 256 256-114.848 256-256 256-256-114.848-256-256z m710.624 409.376l-206.88-206.88A318.784 318.784 0 0 0 768 448c0-176.736-143.264-320-320-320S128 271.264 128 448s143.264 320 320 320a318.784 318.784 0 0 0 202.496-72.256l206.88 206.88 45.248-45.248z"   ></path></symbol><symbol id="icon-icon-test2" viewBox="0 0 1024 1024"><path d="M512 640c-70.592 0-128-57.408-128-128s57.408-128 128-128 128 57.408 128 128-57.408 128-128 128m0-320a192 192 0 0 0 0 384 192 192 0 0 0 0-384"   ></path><path d="M693.216 735.552a291.744 291.744 0 0 1-40.512 27.52c-1.216 0.64-2.368 1.472-3.616 2.144a286.08 286.08 0 0 1-34.048 15.392l-19.552 72.992-9.28 34.592c-0.576 0.128-1.152 0.32-1.76 0.384l-8.736 1.632c-3.52 0.64-7.104 1.088-10.656 1.6a357.152 357.152 0 0 1-53.056 3.744c-5.216 0-10.464-0.128-15.68-0.32l-8.64-0.48a355.936 355.936 0 0 1-28.736-2.944c-3.52-0.512-7.072-0.96-10.624-1.6a418.496 418.496 0 0 1-8.736-1.6l-1.76-0.416-9.28-34.56-19.584-73.024a286.784 286.784 0 0 1-47.84-23.776 287.488 287.488 0 0 1-30.304-21.28l-72.96 19.552-34.56 9.28-1.184-1.376a237.504 237.504 0 0 1-5.792-6.72c-2.304-2.784-4.512-5.664-6.752-8.512a315.84 315.84 0 0 1-16.928-23.424c-1.6-2.336-3.104-4.768-4.64-7.168a337.92 337.92 0 0 1-15.68-27.168 435.84 435.84 0 0 1-3.936-7.68c-1.536-3.104-3.072-6.208-4.512-9.344a362.912 362.912 0 0 1-7.296-17.024c-1.344-3.328-2.688-6.656-3.968-9.984l-2.976-8.448-0.512-1.696 25.184-25.184 53.568-53.632a292.8 292.8 0 0 1-3.68-41.28c0-1.28-0.192-2.496-0.192-3.744 0-1.28 0.192-2.464 0.192-3.744a292.8 292.8 0 0 1 3.68-41.28l-53.568-53.632-25.184-25.184a438.656 438.656 0 0 1 3.488-10.144c1.28-3.36 2.624-6.688 3.968-10.048a375.68 375.68 0 0 1 52.992-91.776c2.24-2.848 4.448-5.696 6.72-8.48 1.92-2.24 3.84-4.48 5.824-6.72l1.184-1.376 34.56 9.28 72.96 19.52c9.568-7.776 19.744-14.72 30.304-21.28l4.064-2.464a283.68 283.68 0 0 1 43.776-21.28l19.584-73.024 9.28-34.56 1.76-0.416c2.88-0.544 5.76-1.12 8.704-1.6 3.52-0.608 7.168-1.12 10.752-1.6 6.08-0.864 12.16-1.6 18.336-2.208a362.752 362.752 0 0 1 19.008-1.184c5.184-0.224 10.4-0.384 15.616-0.384 5.216 0 10.464 0.16 15.648 0.384a362.752 362.752 0 0 1 19.008 1.184c6.08 0.576 12.224 1.344 18.304 2.24 3.616 0.448 7.2 0.96 10.784 1.536l8.704 1.632 1.76 0.384 9.28 34.592 19.52 72.992c11.712 4.512 23.168 9.472 34.08 15.392 1.248 0.672 2.4 1.504 3.616 2.176 14.304 8.064 27.84 17.216 40.512 27.52l72.96-19.584 34.528-9.248 1.216 1.344c1.92 2.24 3.904 4.48 5.76 6.752 2.304 2.752 4.48 5.632 6.72 8.448 3.84 4.864 7.552 9.792 11.136 14.848 1.984 2.816 3.904 5.696 5.824 8.544l4.672 7.232a357.472 357.472 0 0 1 19.616 34.88 397.184 397.184 0 0 1 11.776 26.336c1.344 3.328 2.72 6.656 4 10.048 1.024 2.784 1.984 5.568 2.944 8.384 0.192 0.576 0.32 1.152 0.544 1.728l-25.184 25.184-53.6 53.6c1.92 12.064 3.104 24.352 3.488 36.896 0.064 2.72 0.384 5.44 0.384 8.16 0 2.752-0.32 5.44-0.384 8.16a291.136 291.136 0 0 1-3.52 36.864l53.632 53.632 25.184 25.184-0.544 1.696c-0.96 2.816-1.92 5.6-2.944 8.384-1.28 3.392-2.624 6.72-4 10.08a376.32 376.32 0 0 1-11.776 26.336 435.84 435.84 0 0 1-11.456 21.44c-2.624 4.544-5.376 8.992-8.16 13.44-1.536 2.368-3.072 4.8-4.64 7.136a315.84 315.84 0 0 1-16.96 23.456c-2.24 2.88-4.48 5.696-6.72 8.448-1.92 2.304-3.84 4.512-5.792 6.752-0.384 0.48-0.8 0.896-1.216 1.344l-34.56-9.248-72.96-19.52z m-305.12 139.328c-2.624-0.896-5.28-1.728-7.872-2.688l-3.328-1.216-3.328-1.28c4.896 1.92 9.856 3.584 14.816 5.248l-0.32-0.064z m-119.424-66.368l-2.656-2.24c-2.144-1.824-4.224-3.712-6.336-5.568l-0.224-0.192c3.968 3.52 7.936 6.976 12.064 10.272l-2.88-2.24z m623.776-245.664l-0.192-0.16-0.096-0.128h-0.032l-29.184-29.216c0.416-7.104 1.056-14.144 1.056-21.344 0-7.232-0.64-14.272-1.056-21.376l29.184-29.184 0.128-0.128 0.192-0.192 54.72-54.72a444.032 444.032 0 0 0-18.4-57.376 449.664 449.664 0 0 0-28.8-61.024c-11.424-19.84-24.576-38.08-38.432-55.456a449.024 449.024 0 0 0-40.48-44.64l-74.752 20.032-0.064 0.032-0.224 0.064-0.16 0.032h-0.032l-39.424 10.56a348.448 348.448 0 0 0-37.472-21.376l-10.624-39.68-0.032-0.064-0.032-0.16-0.064-0.224v-0.064l-20.032-74.752a447.68 447.68 0 0 0-58.88-12.736A448.128 448.128 0 0 0 512 64c-22.912 0-45.248 2.24-67.232 5.568-20.096 3.04-39.776 7.136-58.88 12.736l-20.032 74.752-0.032 0.064-0.064 0.224-0.032 0.16v0.064l-10.656 39.68c-12.928 6.464-25.504 13.472-37.472 21.44l-39.392-10.56-0.064-0.064h-0.16l-0.224-0.096h-0.064l-74.72-20.064c-14.432 13.76-27.84 28.8-40.48 44.64A446.816 446.816 0 0 0 124.032 288c-11.456 19.84-20.672 40.32-28.8 61.024A450.496 450.496 0 0 0 76.8 406.4l54.72 54.72v0.064l0.224 0.16 0.096 0.128v0.032l29.216 29.184C160.64 497.76 160 504.8 160 512c0 7.2 0.64 14.208 1.088 21.312l-29.184 29.184-0.032 0.032-0.096 0.128-0.192 0.192-0.032 0.032L76.8 617.6c4.704 19.328 11.008 38.464 18.4 57.344 8.128 20.704 17.344 41.216 28.8 61.056 11.456 19.84 24.576 38.08 38.464 55.424 12.672 15.872 26.048 30.88 40.48 44.64l74.72-20.032h0.064l0.224-0.064 0.16-0.064h0.064l39.36-10.56c12 7.936 24.576 14.912 37.504 21.376l10.656 39.712v0.224l0.096 0.224v0.032l20.064 74.752c19.104 5.6 38.784 9.728 58.88 12.736a447.68 447.68 0 0 0 67.2 5.6c22.976 0 45.28-2.24 67.296-5.6a442.56 442.56 0 0 0 58.88-12.736l20.032-74.752 0.064-0.256 0.064-0.192 10.624-39.68c12.928-6.496 25.504-13.504 37.44-21.44l39.456 10.56v0.032l0.192 0.032 0.224 0.064h0.064l74.752 20.032c14.4-13.76 27.808-28.768 40.48-44.64A449.92 449.92 0 0 0 900 736c11.456-19.84 20.64-40.32 28.768-61.056 7.424-18.88 13.728-37.984 18.432-57.344l-54.72-54.72h-0.032z"   ></path></symbol><symbol id="icon-icon-test3" viewBox="0 0 1024 1024"><path d="M512 448c-35.296 0-64-28.704-64-64s28.704-64 64-64 64 28.704 64 64-28.704 64-64 64m0-192c-70.592 0-128 57.408-128 128s57.408 128 128 128 128-57.408 128-128-57.408-128-128-128"   ></path><path d="M768 797.632v-69.92a151.904 151.904 0 0 0-151.712-151.68h-208.576A151.904 151.904 0 0 0 256 727.68v69.92C177.632 727.36 128 625.6 128 512 128 299.904 299.936 128 512 128s384 171.904 384 384c0 113.6-49.632 215.36-128 285.632m-448 46.56v-116.48a87.776 87.776 0 0 1 87.712-87.68h208.576A87.776 87.776 0 0 1 704 727.68v116.48a381.568 381.568 0 0 1-384 0m192-780.16C264.96 64 64 264.96 64 512c0 246.976 200.96 448 448 448s448-201.024 448-448c0-247.04-200.96-448-448-448"   ></path></symbol></svg>';if((t=document.getElementsByTagName("script"))[t.length-1].getAttribute("data-injectcss")&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}!function(t){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(t,0);else{var i=function(){document.removeEventListener("DOMContentLoaded",i,!1),t()};document.addEventListener("DOMContentLoaded",i,!1)}else document.attachEvent&&(n=t,s=e.document,r=!1,(a=function(){try{s.documentElement.doScroll("left")}catch(e){return void setTimeout(a,50)}o()})(),s.onreadystatechange=function(){"complete"==s.readyState&&(s.onreadystatechange=null,o())});function o(){r||(r=!0,n())}var n,s,r,a}((function(){var e,t,o,n,s,r;(e=document.createElement("div")).innerHTML=i,i=null,(t=e.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",o=t,(n=document.body).firstChild?(s=o,(r=n.firstChild).parentNode.insertBefore(s,r)):n.appendChild(o))}))}(window)},function(e,t,i){"use strict";var o=i(19);i.n(o).a},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,".icon{width:20px;height:20px;vertical-align:-0.15em;fill:#ccc;overflow:hidden;font-size:16px}\n",""])},function(e,t,i){var o=i(91);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,".full{width:100%}#nav{width:100%;height:1.33333rem;border-top:1px solid #ccc}#nav ul{width:100%;height:100%;display:flex}#nav ul li{flex:1;text-align:center;line-height:30px;cursor:pointer}#nav ul li.cur-selected .icon{fill:#4a596b}\n",""])},function(e,t,i){"use strict";var o=i(20);i.n(o).a},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,".full{width:100%}.chating{width:100%;height:100%;position:absolute;z-index:1;background:#fff;display:flex;flex-direction:column;overflow:hidden}.chating .title{width:100%;height:60px;line-height:60px;padding-left:15px;border-bottom:1px solid #98A3AD}.chating .display-box{height:100%;width:100%}.chating .input-zone{height:40px;position:relative}.chating .input-zone .emoji-container{height:100px;position:absolute;top:-100px;overflow:auto;border-top:1px solid #ccc}.chating .input-zone .emoji-container ul li{float:left;font-size:16px;width:12.5%;text-align:center;padding:10px 0}.chating .input-zone-container{height:40px;width:100%;border-top:1px solid #ccc;display:flex}.chating .input-zone-container .emoji-btn{flex:2;text-align:center;line-height:25px}.chating .input-zone-container textarea{display:block;border:none;outline:none;resize:none;text-indent:5px;flex:7}.chating .input-zone-container button{display:block;border:none;outline:none;resize:none;text-indent:5px;flex:3}.display-box{overflow-y:auto}.message-item{width:100%;padding:15px 0;overflow:hidden}.self-message{text-align:right}.friend-message{text-align:left}.self-message .avatar{width:1.2rem;height:1.2rem;border-radius:20px;margin:0px 10px 0 15px;float:right}.self-message .message{float:right;height:1.2rem;line-height:1.2rem;border-radius:10px;padding:0 10px;color:#fff;font-size:16px;background-color:#fff;color:#aaa}.friend-message .avatar{width:1.2rem;height:1.2rem;margin:0px 10px 0 15px;float:left}.friend-message .message{float:left;height:1.2rem;line-height:1.2rem;border-radius:10px;padding:0 10px;color:#aaa;font-size:16px;background-color:#fff}\n",""])},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,function(e,t,i){"use strict";var o=i(21);i.n(o).a},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,".full{width:100%}#chat-container{width:100%;height:100%;display:flex;flex-direction:column}\n",""])},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,".full{width:100%}.login-title{text-align:center;padding-top:2.66667rem;padding-bottom:2.66667rem}.input-row{width:7.33333rem;height:1.6rem;margin:auto;border-bottom:1px solid #ccc;overflow:hidden}.input-row input{width:100%;height:100%;text-indent:.13333rem;font-size:16px;outline:none;border:none}.login-btn{width:7.33333rem;height:1.6rem;text-align:center;margin:auto;font-size:16px;line-height:1.6rem;text-align:center;background-color:#4a596b;color:#fff;margin-top:.66667rem}.router-login{width:100%;font-size:16px;text-align:center;padding-top:.66667rem}.router-login a{color:#4a596b;text-decoration:underline}\n",""])},function(e,t,i){"use strict";var o=i(22);i.n(o).a},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,".full{width:100%}.set-info{width:100%;height:100%;margin:auto}.set-info .set-avatar{height:40%;background-color:rgba(0,0,0,0.3);background-position:center;display:flex;position:relative}.set-info .set-avatar .avatar-mask{width:100%;height:100%;position:absolute;opacity:0.8;background:#fff}.set-info .set-avatar .cur-avatar{width:2.66667rem;height:2.66667rem;overflow:hidden;margin:auto;align-items:center;background:#4a596b;border:1px solid #4a596b;border-radius:2.66667rem;position:relative;z-index:1}.set-info .set-avatar .cur-avatar img{width:100%;height:100%}.set-info ul{width:90%;margin:auto}.set-info ul li{font-size:16px;display:flex;height:1.33333rem;line-height:1.33333rem;padding-top:5%;border-bottom:1px solid #ccc}.set-info ul li input{width:100%;border:none;outline:none;text-indent:5px}.set-info .sure{width:7.33333rem;height:1.6rem;margin:auto;font-size:16px;text-align:center;line-height:1.6rem;color:#fff;background:#4a596b;margin-top:.66667rem}\n",""])},function(e,t,i){"use strict";var o=i(23);i.n(o).a},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,".full{width:100%}.seach-box{width:90%;margin:auto;display:flex;height:1.6rem;padding-top:1.6rem}.seach-box input{flex:8;text-indent:.13333rem}.seach-box .seach{background-color:#4a596b;color:#fff;flex:2;text-align:center;font-size:16px;line-height:1.6rem}.friend-result{width:90%;margin:auto;border:1px solid #ccc;padding-bottom:.53333rem;padding-top:.53333rem;font-size:16px;text-align:center}.friend-result .add-friend-requst{width:50%;margin:auto;height:1.06667rem;line-height:1.06667rem;background-color:#4a596b;color:#fff;text-align:center;margin-top:.26667rem;font-size:16px}\n",""])},function(e,t,i){"use strict";var o=i(24);i.n(o).a},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,".full{width:100%}.guide{width:90%;font-size:16px;margin:auto;padding-top:20px}\n",""])},function(e,t,i){"use strict";var o=i(25);i.n(o).a},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,"",""])},function(e,t,i){"use strict";var o=i(26);i.n(o).a},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,"",""])},function(e,t,i){"use strict";var o=i(27);i.n(o).a},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,"",""])},,,function(e,t,i){var o=i(140);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(2)(o,n);o.locals&&(e.exports=o.locals)},function(e,t,i){(e.exports=i(1)(!1)).push([e.i,".full{width:100%}\n",""])},function(e,t,i){"use strict";i.r(t);var o=i(5),n=i(6),s=i(28),r=i.n(s),a=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"container"}},[t("router-view")],1)};a._withStripped=!0;var l={name:"app",data:function(){return{}},created(){},mounted(){},methods:{},beforeDestroy(){}},c=(i(76),i(0)),d=Object(c.a)(l,a,[],!1,null,null,null);d.options.__file="src/App.vue";var u=d.exports,p=i(37),h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.switchStatus?i("div",{attrs:{id:"modal"}},[i("div",{attrs:{id:"modal-mask"}}),e._v(" "),i("div",{attrs:{id:"modal-box"}},[i("div",{staticClass:"content"},[e._t("default")],2),e._v(" "),i("div",{staticClass:"btns"},[e.okText?i("div",{staticClass:"btn ok-btn",on:{click:e.handelOk}},[e._v(e._s(e.okText))]):e._e(),e._v(" "),e.cancelText?i("div",{staticClass:"btn cancel-bnt",on:{click:e.handelCancle}},[e._v(e._s(e.cancelText))]):e._e()])])]):e._e()};h._withStripped=!0;var m={name:"modal",props:{okText:String,cancelText:String,switchStatus:Boolean},model:{prop:"switchStatus",event:"swtich"},computed:{},methods:{swtichModel(){this.$emit("switch",!this.swtichModel)},handelOk(){this.$emit("ok")},handelCancle(){this.$emit("cancel")}}},f=(i(79),Object(c.a)(m,h,[],!1,null,null,null));f.options.__file="src/components/modal/index.vue";var g=f.exports,v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"seach-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKey,expression:"searchKey"}],attrs:{placeholder:e.placeholder,maxlength:"6"},domProps:{value:e.searchKey},on:{input:function(t){t.target.composing||(e.searchKey=t.target.value)}}}),e._v(" "),i("div",{staticClass:"seach",on:{click:e.handleSearch}},[e._v("搜索")])]),e._v(" "),e.showResult?i("div",{staticClass:"result-box"},[e.searchResult.status?["group"==e.type?[i("div",[e._v("群名："+e._s(e.searchResult.name))]),e._v(" "),i("div",[e._v("群地址："+e._s(e.searchResult.location))])]:[i("div",{staticClass:"avatar-box"}),e._v(" "),i("div",{staticClass:"name"},[e._v(e._s(e.searchResult.nickname)+"("+e._s(e.lastSearchKey)+")")]),e._v(" "),e.searchResult.declaration?i("div",{staticClass:"declaration"},[e._v("“"+e._s(e.searchResult.declaration)+"”")]):e._e()],e._v(" "),i("div",{staticClass:"add-friend-requst",class:e.addBtnClass,on:{click:e.handleAdd}},[e._v(e._s(e.addBtnText))])]:[e._v(e._s(e.noResultText)+"不存在，请重试")]],2):e._e()])};v._withStripped=!0;var x={name:"search-box",props:["placeholder","showResult","searchResult","type"],components:{},data:()=>({lastSearchKey:"",searchKey:""}),computed:{addBtnText(){return"group"===this.type?"申请入群":"好友申请"},noResultText(){return"group"===this.type?`群 '${this.lastSearchKey}' `:"好友 "+this.lastSearchKey},addBtnClass(){return this.searchResult.isInGroup?"disabled":""}},methods:{handleSearch(){this.lastSearchKey=this.searchKey,this.$emit("search",this.searchKey)},handleAdd(){this.searchResult.isInGroup?alert("您已经在这个群里了"):this.$emit("add",this.searchKey)}},created(){}},b=(i(81),Object(c.a)(x,v,[],!1,null,null,null));b.options.__file="src/components/search/index.vue";var w=b.exports,y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"top-title",attrs:{id:"header"}},[e.isShowGoBackBtn?i("div",{staticClass:"goback",on:{click:e.handleClick}},[e._v("<")]):e._e(),e._v(" "),i("div",{staticClass:"show-title"},[e._v(e._s(e.title))])])};y._withStripped=!0;var _={name:"top-header",props:["title"],data:()=>({}),created(){},computed:{isShowGoBackBtn:function(){return"主页"!=this.title},isChatOpen(){return this.$store.state.isChatOpen}},methods:{handleClick(){this.isChatOpen?this.$store.commit("switchChatBox"):this.$router.go(-1)}}},k=(i(83),Object(c.a)(_,y,[],!1,null,null,null));k.options.__file="src/components/header/index.vue";var O=k.exports,S=function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:this.isShow,expression:"isShow"}],staticClass:"tips"},[this._v("\n  "+this._s(this.content)+"\n")])};S._withStripped=!0;var C={name:"tips",components:{},data:()=>({isShow:!0,content:""}),computed:{},methods:{show(e){this.content=e,this.isShow=!0},hide(){this.isShow=!1,this.isShow=""}},created(){},mounted(){setTimeout(()=>{this.isShow=!1},2e3)}},j=(i(85),Object(c.a)(C,S,[],!1,null,null,null));j.options.__file="src/components/tips/index.vue";var $=j.exports;const T={Modal:g,SearchBox:w,Header:O,Tips:$};var I={install:function(e,t){for(let t in T)e.component(t,T[t]);e.prototype.axios=t.requst;let i=new(e.extend($));e.prototype.$Tips={show:function(e){console.log("show");let t=i.$mount();document.getElementById("container").appendChild(t.$el),t.show(e)}}}};var P={bind(){},inserted(e){console.log("insert"),console.log(e.innerHTML),e.addEventListener("click",(function(){console.log(e.innerHTML),navigator.clipboard.writeText(e.innerHTML).then((function(){console.log("复制成功")}),(function(){}))}))},update(){}};var M={install(e,t){e.directive("clip",P)}},E=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"chat-container"}},[i("Header",{attrs:{title:"主页"}}),e._v(" "),i("ChatSingle"),e._v(" "),i("Modal",{attrs:{okText:e.btnsText.ok,cancelText:e.btnsText.cancel},on:{ok:e.okFn,cancel:e.cancleFn},model:{value:e.isOpenModal,callback:function(t){e.isOpenModal=t},expression:"isOpenModal"}},[e._v(e._s(e.addFriendContent))]),e._v(" "),i("keep-alive",[i("router-view",{attrs:{include:"chatbox"}})],1),e._v(" "),i("Nav")],1)};E._withStripped=!0;var z=i(4),F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"nav"}},[i("ul",e._l(e.list,(function(t){return i("li",{key:t.url,class:{"cur-selected":e.currentType==t.type},on:{click:function(i){return e.select(t.url,t.type)}}},[i("Icon",{attrs:{type:t.type}})],1)})),0)])};F._withStripped=!0;var A=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":this.icontype}})])};A._withStripped=!0;i(87);var G={name:"chat-icon",props:["type"],computed:{icontype(){return"#icon-icon-"+{message:"test",search:"test1",setting:"test2",user:"test3"}[this.type]}}},R=(i(88),Object(c.a)(G,A,[],!1,null,null,null));R.options.__file="src/page/nav/icon.vue";var B=R.exports,L=(i(90),{name:"navContainer",data:()=>({currentType:"message",list:[{type:"message",url:"/",title:"消息"},{type:"user",url:"/friends",title:"用户"},{type:"setting",url:"/settings",title:"设置"}]}),components:{Icon:B},methods:{select(e,t){this.currentType=t,this.$router.push(e)}},computed:{}}),N=Object(c.a)(L,F,[],!1,null,null,null);N.options.__file="src/page/nav/index.vue";var D=N.exports,H=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isChatOpen?i("div",{staticClass:"chating"},[i("Header",{attrs:{title:e.title}}),e._v(" "),i("div",{staticClass:"display-box"},[i("ul",e._l(e.currentMessageList,(function(t){return i("li",{key:t.index,staticClass:"message-item",class:[t.from==e.user?"self-message":"friend-message"]},[i("span",{staticClass:"avatar"},[i("img",{attrs:{src:e._f("renderImgPath")(e.avatarMap[t.from]),alt:""}})]),e._v(" "),i("div",{staticClass:"message"},[e._v("\n             "+e._s(t.message)+"\n          ")])])})),0)]),e._v(" "),i("div",{staticClass:"input-zone"},[e.isShowEmoji?i("div",{staticClass:"emoji-container"},[i("ul",e._l(e.emoji,(function(t){return i("li",{key:t.index,on:{click:function(i){return e.chooseEmoji(t)}}},[e._v(e._s(t))])})),0)]):e._e(),e._v(" "),i("div",{staticClass:"input-zone-container"},[i("div",{staticClass:"emoji-btn",on:{click:e.switchEmojiContainer}},[i("svg",{staticClass:"icon",attrs:{t:"1595920075882",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6944"}},[i("path",{attrs:{d:"M512 0C229.376 0 0 229.376 0 512s229.376 512 512 512 512-229.376 512-512S794.624 0 512 0z m0 984.064C251.392 984.064 39.936 772.608 39.936 512S251.392 39.936 512 39.936 984.064 251.392 984.064 512 772.608 984.064 512 984.064z","p-id":"6945"}}),i("path",{attrs:{d:"M512 748.544c-134.144 0-243.2-108.544-243.2-243.2h-39.936c0 156.16 126.464 283.136 283.136 283.136s283.136-126.464 283.136-283.136H755.2c0 134.656-109.056 243.2-243.2 243.2zM268.8 343.552c0 25.088 19.968 45.056 45.056 45.056s45.056-19.968 45.056-45.056-19.968-45.056-45.056-45.056-45.056 19.968-45.056 45.056z m396.288 0c0 25.088 19.968 45.056 45.056 45.056S755.2 368.64 755.2 343.552s-19.968-45.056-45.056-45.056-45.056 19.968-45.056 45.056z","p-id":"6946"}})])]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],ref:"inputTextArea",attrs:{id:"aaa"},domProps:{value:e.message},on:{input:[function(t){t.target.composing||(e.message=t.target.value)},e.markPosition],click:e.markPosition}}),e._v(" "),i("button",{on:{click:e.clickSendBtn}},[e._v("发送")])])])],1):e._e()};H._withStripped=!0;var q=i(38);function K(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function U(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var J={name:"chatbox",inject:["user","socket","groupSocketMap"],mixins:[q.a],data:()=>({message:"",face:"😀😃😄😁😆😅😂🤣😊😇🙂🙃😉😌😍🥰😘😗😙😚😋😛😝😜🤪🤨🧐🤓😎🤩🥳😏😒😞😔😟😕🙁☹️😣😖😫😩🥺😢😭😤😠😡🤬",isShowEmoji:!1,position:0}),computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?K(Object(i),!0).forEach((function(t){U(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({emoji:function(){let e=[];for(var t=escape(this.face),i=/(%\w{5}){2}/g,o=null;o=i.exec(t);)e.push(unescape(o[0]));return e},title:function(){return"single"===this.currentChatType?`正在和 ${this.$store.state.currentFirend.user} 聊天...`:this.currentGroup.name+"("+this.currentGroup.users.length+")"},currentMessageList:function(){return"single"===this.currentChatType?this.msgStore.single[this.currentFirend.user]:this.msgStore.group[this.currentGroup.id]}},Object(n.b)(["msgStore","isChatOpen","currentFirend","avatarMap","currentChatType","currentGroup"])),created(){this.socket;this.msgStore},methods:{chooseEmoji(e){console.log(e);const t=this.insertEmoji(e);this.message=t,this.position++,this.$nextTick(()=>{console.log("nextTick"),this.$refs.inputTextArea.focus(),this.$refs.inputTextArea.selectionStart=this.position}),console.log(t)},insertEmoji(e){return console.log(this.message.slice(0,this.position)),console.log(this.message.slice(this.position,this.message.length)),this.message.slice(0,this.position)+e+this.message.slice(this.position,this.message.length)},markPosition(){console.log(this.$refs.inputTextArea.selectionStart),this.position=this.$refs.inputTextArea.selectionStart},processUnread(e){let t=e.from;if(t!=this.currentFirend){var i=this.unread[t]?this.unread[t]:0;this.$set(this.unread,t,++i)}},sendSingle(){let e=this.currentFirend.user,t={message:this.message,time:(new Date).getTime(),from:this.user,to:e,type:"single",action:"send"};this.$store.commit("setMessageStore",t),this.socket.emit("msg",t),this.message=""},sendGoup(){const e=this.groupSocketMap[this.currentGroup.id];let t={message:this.message,time:(new Date).getTime(),from:this.user,to:this.currentGroup.id,type:"group",action:"send"};e.emit("msg",t)},clickSendBtn(){"single"===this.currentChatType?this.sendSingle():this.sendGoup()},switchEmojiContainer(){this.isShowEmoji=!this.isShowEmoji,this.$nextTick(()=>{console.log("nextTick"),this.$refs.inputTextArea.focus(),this.$refs.inputTextArea.selectionStart=this.position})}}},V=(i(92),Object(c.a)(J,H,[],!1,null,null,null));V.options.__file="src/page/chat/chatSingle.vue";var X=V.exports,Q=i(36),W=i.n(Q);function Y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Z(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ee={name:"mainPage",data:()=>({groupSocketMap:{},user:z.a.get("chat").user,isOpenModal:!1,addFriendContent:"",messageFrom:"",option:"",btnsText:{ok:"",cancel:""}}),computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(i),!0).forEach((function(t){Z(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(n.b)(["socket","isChatOpen","currentFirend","groupIds"])),components:{Nav:D,ChatSingle:X},provide(){return{socket:this.socket,user:this.user,groupSocketMap:this.groupSocketMap}},created(){this.initSocket(),this.setHeader(),this.pullFriends(),this.handleAddFriend(),this.initSingleChannel()},beforeRouteEnter(e,t,i){z.a.get("chat")?i():(console.log("没有登录，跳转到注册页"),i("/regist"))},methods:{initSocket(){const e=W()("http://127.0.0.1:8888/?user="+z.a.get("chat").user);this.$store.commit("initSocket",e)},setHeader(){r.a.defaults.headers.common.Authorization=z.a.get("chat")&&z.a.get("chat").token},initGroupChannel(e){e.forEach(e=>{let t=W()("http://127.0.0.1:8888/"+e);this.$set(this.groupSocketMap,e,t),t.on("connect",(function(){console.log(e," connect"),console.log(t)})),t.on("msg",e=>{console.log("group msg:",e),this.storeMessage(e)})})},initSingleChannel(){const e=this.socket;e.on("userList",e=>{console.log(e),this.$store.commit("setUserList",e)}),e.on("sys",(function(e){console.log(e)})),e.on("msg",e=>{console.log("recive:",e),this.handleUnread(e);e.from;e.time=(new Date).getTime(),e.action="recive",this.storeMessage(e)})},storeMessage(e){this.$store.commit("setMessageStore",e)},handleUnread(e){let t=this.currentFirend.user,i=e.from;t===i&&this.isChatOpen||this.$store.commit("setUnreadCount",{key:i,type:"single"})},pullFriends(){let e=this.axios.get("/user/info/",{params:{user:this.user,needFriendsAndGroup:!0}}),t=this.axios.get("/user/allUsers"),i=this.axios.get("/group/allGroups");Promise.all([e,t,i]).then(e=>{if(console.log(e),e.some(e=>-1===e.data.code))return this.$Tips.show("登录过期，请重新登录"),z.a.remove("chat"),void setTimeout(()=>{this.$router.push("/login")});let t=e[0].data.data,i=e[0].data.groups,o=e[1].data.data,n=e[2].data.groups,s={},r={},a={};n.forEach(e=>{r[e.id]=e});let l=i.map(e=>r[e]);t.forEach(e=>{for(let t in e)s[t]=e[t]});let c=o.filter(e=>(a[e.user]=e.avatar,s[e.user]));this.$store.commit("setGroupsInfoList",l),this.$store.commit("setFriendsInfo",c),this.$store.commit("setAvatarMap",a),this.$store.commit("setGroupIds",i),this.initGroupChannel(i),console.log(c)}).catch(e=>{})},handleAddFriend(){this.socket.on("addFriend",e=>{console.log(e),e.option?this.btnsText.cancel="":this.btnsText.cancel="暂时忽略",this.btnsText.ok="确定",this.option=e.option,this.messageFrom=e.from,this.addFriendContent=e.message,this.isOpenModal=!0})},handleClickBtn(){let e=this.isShowGoBackBtn=!this.isShowGoBackBtn;title=e?title:this.lastTitle,this.changeTitle(title)},okFn(){this.option||(console.log("friend add!"),this.socket.emit("addFriend",{to:this.messageFrom,from:this.user,type:"response",option:"agree"})),this.isOpenModal=!1},cancleFn(){}}},te=(i(122),Object(c.a)(ee,E,[],!1,null,null,null));te.options.__file="src/page/main/index.vue";var ie=te.exports,oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"full"},[i("p",{staticClass:"login-title"},[e._v("密码登录")]),e._v(" "),i("div",{staticClass:"input-row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user,expression:"user"}],attrs:{type:"text",placeholder:"请输入用户名",name:"user"},domProps:{value:e.user},on:{input:function(t){t.target.composing||(e.user=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"input-row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd,expression:"pwd"}],attrs:{type:"password",placeholder:"请输入密码",name:"pwd"},domProps:{value:e.pwd},on:{input:function(t){t.target.composing||(e.pwd=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"login-btn",on:{click:e.submit}},[e._v("登录")])])};oe._withStripped=!0;i(59);var ne={beforeRouteEnter(e,t,i){console.log(e),z.a.get("chat")?i(!1):i()}},se={name:"login",mixins:[ne],data:()=>({user:"",pwd:""}),methods:{submit(){console.log(this.axios),this.axios.post("/login",{user:this.user,pwd:this.pwd}).then(e=>{let t=e.data;"1"===t.code&&(z.a.set("chat",{token:t.token,user:this.user}),this.$router.push("/"))}).catch(e=>{})}}},re=Object(c.a)(se,oe,[],!1,null,null,null);re.options.__file="src/page/login/index.vue";var ae=re.exports,le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"full"},[i("p",{staticClass:"login-title"},[e._v("用户注册")]),e._v(" "),i("div",{staticClass:"input-row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user,expression:"user"}],attrs:{type:"text",placeholder:"请输入用户名",name:"user"},domProps:{value:e.user},on:{input:function(t){t.target.composing||(e.user=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"input-row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd,expression:"pwd"}],attrs:{type:"password",placeholder:"请输入密码",name:"pwd"},domProps:{value:e.pwd},on:{input:function(t){t.target.composing||(e.pwd=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"input-row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.repwd,expression:"repwd"}],attrs:{type:"password",placeholder:"请再次输入密码",name:"repwd"},domProps:{value:e.repwd},on:{input:function(t){t.target.composing||(e.repwd=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"login-btn",on:{click:e.submit}},[e._v("注册")]),e._v(" "),i("div",{staticClass:"router-login"},[e._v("\n    已经有账号了？去"),i("router-link",{attrs:{to:"/login"}},[e._v(" 登录")])],1)])};le._withStripped=!0;var ce={name:"regist",mixins:[ne],data:()=>({user:"",pwd:"",repwd:""}),methods:{submit(){this.pwd&&this.repwd?this.repwd===this.pwd?this.axios.post("/regist",{user:this.user,pwd:this.pwd}).then(e=>{const t=e.data;"1"===t.code&&(z.a.set("chat",{token:t.token,user:this.user}),this.$router.push("/"))}).catch(e=>{console.log(e)}):alert("两次输入的密码不一致"):alert("请输入正确的密码")}}},de=Object(c.a)(ce,le,[],!1,null,null,null);de.options.__file="src/page/regist/index.vue";var ue=de.exports,pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"set-info",attrs:{id:"set-info"}},[i("Header",{attrs:{title:"个人信息设置"}}),e._v(" "),i("div",{staticClass:"set-avatar",style:{"background-image":"url("+e.renderImgPath+")"}},[i("div",{staticClass:"avatar-mask"}),e._v(" "),i("div",{staticClass:"cur-avatar",on:{click:e.handleClick}},[i("img",{attrs:{src:e.renderImgPath,alt:""}}),e._v(" "),i("input",{ref:"input",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.setAvatar}})])]),e._v(" "),i("ul",[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.nickname,expression:"nickname"}],attrs:{placeholder:"昵称",type:"text"},domProps:{value:e.nickname},on:{input:function(t){t.target.composing||(e.nickname=t.target.value)}}})]),e._v(" "),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.declaration,expression:"declaration"}],attrs:{placeholder:"个性宣言",type:"text"},domProps:{value:e.declaration},on:{input:function(t){t.target.composing||(e.declaration=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"sure",on:{click:e.submit}},[e._v("确定")])],1)};pe._withStripped=!0;var he={name:"userinfo",data:()=>({user:"",nickname:"",declaration:"",avatarPath:"",avatar:null,title:"个人资料设置"}),created(){this.user=this.$route.query.user,this.pullInfo()},computed:{renderImgPath(){let e=this.avatarPath;if(e){var t=/\\avatar\\\d+\.\w+/.exec(e);return t?t[0].replace(/\\/g,"/"):e}}},methods:{setAvatar(e){console.log(e);let t=this.avatar=e.target.files[0];const i=new FileReader;i.readAsDataURL(t),i.addEventListener("load",()=>{this.avatarPath=i.result})},handleClick(){this.$refs.input.click()},pullInfo(){this.axios.get("/user/info",{params:{user:this.user}}).then(e=>{let t=e.data.data;this.renderInfo(t)})},renderInfo(e){this.nickname=e.nickname,this.declaration=e.declaration,this.avatarPath=e.avatar},submit(){let e=new FormData;JSON.parse(JSON.stringify(this.$data));e.append("nickname",this.nickname),e.append("declaration",this.declaration),e.append("avatar",this.avatar),e.append("user",this.user),this.axios.post("/user/update",e,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{})}}},me=(i(125),Object(c.a)(he,pe,[],!1,null,null,null));me.options.__file="src/page/setting/personalInfo.vue";var fe=me.exports,ge=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"add-friend"}},[t("Header",{attrs:{title:"添加好友"}}),this._v(" "),t("SearchBox",{attrs:{showResult:this.showResult,searchResult:this.friendInfo,placeholder:"请输入好友id"},on:{search:this.searchFriend,add:this.addFriend}})],1)};function ve(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function xe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}ge._withStripped=!0;var be={name:"addFriend",components:{},data:()=>({title:"添加好友",showResult:!1,friend:"",friendInfo:{nickname:"",declaration:"",status:!1}}),computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(i),!0).forEach((function(t){xe(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ve(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(n.b)(["socket"])),methods:{},created(){},methods:{searchFriend(e){this.axios.get("/info/user/"+e).then(e=>{let t=e.data;"1"===t.code?this.showSearchResult(t):this.showSearchResult(null)}).catch(e=>{this.showResult=!1,console.log(e)})},showSearchResult(e){if(e){Object.keys(JSON.parse(JSON.stringify(this.friendInfo))).forEach(t=>{this.friendInfo[t]=e[t]}),this.friendInfo.status=!0}else this.friendInfo.status=!1;this.showResult=!0},addFriend(e){this.socket.emit("addFriend",{from:this.$route.query.user,to:e,type:"requst"})}}},we=(i(127),Object(c.a)(be,ge,[],!1,null,null,null));we.options.__file="src/page/friends/addFriend.vue";var ye=we.exports,_e=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"group-chat"}},[t("Header",{attrs:{title:"加入群聊"}}),this._v(" "),t("SearchBox",{attrs:{showResult:this.showResult,searchResult:this.groupInfo,placeholder:"请输入群id",type:"group"},on:{search:this.searchGroup,add:this.addGroup}}),this._v(" "),t("div",{staticClass:"guide"},[t("router-link",{attrs:{to:{path:"/createGroup",query:{user:this.$route.query.user}}}},[this._v("或者自己建一个群聊？")])],1)],1)};_e._withStripped=!0;var ke={name:"group",components:{},data:()=>({title:"加入群聊",showResult:!1,groupInfo:{name:"",location:"",isInGroup:!1,status:!1}}),computed:{},methods:{searchGroup(e){const t=this.$route.query.user;this.axios.post("/group/search/id/"+e).then(e=>{"1"==(e=e.data).code?(this.groupInfo.name=e.name,this.groupInfo.location=e.location,this.groupInfo.isInGroup=-1!==e.users.indexOf(t),this.groupInfo.status=!0):(this.groupInfo.status=!1,console.log(e)),this.showResult=!0},e=>{this.showResult=!1})},addGroup(e){this.axios.post(`/group/add/id/${e}/user/${this.$route.query.user}`).then(()=>{})}},created(){}},Oe=(i(129),Object(c.a)(ke,_e,[],!1,null,null,null));Oe.options.__file="src/page/group/index.vue";var Se=Oe.exports,Ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Header",{attrs:{title:"新建一个群聊"}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"群名称"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v("\n  加群验证："),i("input",{directives:[{name:"model",rawName:"v-model",value:e.validate,expression:"validate"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.validate)?e._i(e.validate,null)>-1:e.validate},on:{change:function(t){var i=e.validate,o=t.target,n=!!o.checked;if(Array.isArray(i)){var s=e._i(i,null);o.checked?s<0&&(e.validate=i.concat([null])):s>-1&&(e.validate=i.slice(0,s).concat(i.slice(s+1)))}else e.validate=n}}}),e._v(" "),i("button",{on:{click:e.submit}},[e._v("确认")])],1)};Ce._withStripped=!0;var je={name:"add-group",components:{},data:()=>({title:"新建群聊",name:"",validate:!1}),computed:{},methods:{submit(){this.axios.post("group/create",{name:this.name,validate:this.validate,user:this.$route.query.user}).then(()=>{},e=>{})}},mounted(){},created(){}},$e=(i(131),Object(c.a)(je,Ce,[],!1,null,null,null));$e.options.__file="src/page/group/createGroup.vue";var Te=$e.exports,Ie=function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this._v("\n  test\n  <% name %>\n  "),t("div",{directives:[{name:"clip",rawName:"v-clip"}]},[this._v("aaa")]),this._v(" "),t("TestSon")],1)};Ie._withStripped=!0;var Pe=function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("test son")])};Pe._withStripped=!0;var Me={components:{},data:()=>({}),computed:{},methods:{},beforeCreate(){console.log("son before create")},created(){console.log("son created")},beforeMount(){console.log("son before mount")},mounted(){console.log("son mounted")},beforeUpdate(){console.log("son before update")},updated(){console.log("son update")},beforeDestroy(){console.log("son before destroy")},destroyed(){console.log("son destroyed")}},Ee=(i(133),Object(c.a)(Me,Pe,[],!1,null,null,null));Ee.options.__file="src/page/test/test_son.vue";var ze={components:{TestSon:Ee.exports},data:()=>({}),computed:{},methods:{},beforeCreate(){console.log("index before create")},created(){console.log("index created")},beforeMount(){console.log("index before mount")},mounted(){console.log("index mounted")},beforeUpdate(){console.log("index before update")},updated(){console.log("index update")},beforeDestroy(){console.log("index before destroy")},destroyed(){console.log("index destroyed")}},Fe=(i(135),Object(c.a)(ze,Ie,[],!1,null,null,null));Fe.options.__file="src/page/test/index.vue";var Ae=[{path:"/",component:ie,children:[{path:"/",component:()=>i.e(3).then(i.bind(null,151))},{path:"/friends",component:()=>i.e(2).then(i.bind(null,152))},{path:"/settings",component:()=>i.e(4).then(i.bind(null,153))}]},{path:"/info",component:fe},{path:"/addFriend",component:ye},{path:"/group",component:Se},{path:"/createGroup",component:Te},{path:"/login",component:ae},{path:"/regist",component:ue},{path:"/test",component:Fe.exports}];var Ge={state:{socket:null,userList:null,friendsInfo:[],groupsInfoList:[],isChatOpen:!1,currentChatType:"",currentFirend:{},currentGroup:{},unreadMsgCount:{single:{},group:{}},msgStore:{single:{},group:{}},avatarMap:null,groupIds:[]},getters:{},mutations:{initSocket(e,t){e.socket=t},setUserList(e,t){e.userList=t},setFriendsInfo(e,t){e.friendsInfo=t},setGroupsInfoList(e,t){e.groupsInfoList=t},switchChatBox(e,t){e.isChatOpen=!e.isChatOpen,e.currentChatType=t&&t.type},setCurrentFriend(e,t){e.currentFirend=t},setMessageStore(e,t){console.log("playload",t);let{single:i,group:n}=e.msgStore,s=t.type;if("single"===s){let e="recive"===t.action?t.from:t.to;i[e]||o.a.set(i,e,[]),i[e].push(t)}else if("group"===s){let e=t.to;n[e]||o.a.set(n,e,[]),n[e].push(t)}},setUnreadCount(e,t){let{single:i}=e.unreadMsgCount,{key:n,type:s,count:r}=t;"single"===s&&(i[n]||o.a.set(i,n,0)),void 0===r?i[n]++:i[n]=r},setAvatarMap(e,t){e.avatarMap=t},setGroupIds(e,t){t.forEach((t,i)=>{o.a.set(e.groupIds,i,t)})},setCurrentGroup(e,t){e.currentGroup=t}}};i(139);o.a.config.devtools=!0,o.a.use(p.a),o.a.use(n.a),o.a.use(I,{requst:r.a}),o.a.use(M);const Re=new p.a({routes:Ae}),Be=new n.a.Store(Ge);new o.a({el:"#app",router:Re,store:Be,render:e=>e(u)})}]);