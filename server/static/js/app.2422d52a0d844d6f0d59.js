!function(t){function e(e){for(var s,r,a=e[0],l=e[1],c=e[2],u=0,h=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&h.push(o[r][0]),o[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);for(d&&d(e);h.length;)h.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,a=1;a<i.length;a++){var l=i[a];0!==o[l]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},o={0:0},n=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var d=l;n.push([148,1]),i()}([,,,,,,,,,,,,,function(t,e,i){var s=i(78);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){var s=i(81);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){var s=i(83);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){var s=i(85);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){var s=i(87);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){var s=i(90);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){var s=i(94);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){var s=i(124);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){var s=i(127);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){var s=i(129);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){var s=i(131);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){var s=i(133);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){var s=i(135);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){var s=i(137);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){var s=i(139);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){var s=i(141);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){var s=i(143);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var s=i(125);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var s=i(13);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,"#container{height:100%;width:100%;overflow:hidden}body,html{height:100%;width:100%}body,html,ul,ol,li,p,h1,h2,h3,h4,h5,h6,form,fieldset,table,td,img,div{margin:0;padding:0;border:0}ul,ol{list-style-type:none}a{text-decoration:none}a:link{color:#009}a:visited{color:#800080}a:hover,a:active,a:focus{color:#c00;text-decoration:underline}\n",""])},,function(t,e,i){"use strict";var s=i(14);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,".full{width:100%}#modal{width:100%;height:100%;position:fixed;z-index:997}#modal-mask{width:100%;height:100%;position:fixed;z-index:998;opacity:0.4;background:#ccc}#modal-box{width:70%;position:fixed;left:50%;top:50%;transform:translate(-50%, -50%);border:1px solid #ccc;z-index:999;background:#fff}#modal-box .modal-mask{width:100%;height:100%;position:fixed;z-index:998}#modal-box .content{padding:.53333rem 0;font-size:16px;text-align:left;width:90%;margin:auto}#modal-box .btns{width:100%;display:flex;font-size:16px;border-top:1px solid #ccc}#modal-box .btns .btn{flex:1;text-align:center;height:1.06667rem;line-height:1.06667rem}#modal-box .btns .btn:first-child{border-right:1px solid #ccc;box-sizing:border-box}\n",""])},function(t,e,i){"use strict";var s=i(15);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,".full{width:100%}.seach-box{width:90%;margin:auto;display:flex;height:1.6rem;padding-top:1.6rem}.seach-box input{flex:8;text-indent:.13333rem}.seach-box .seach{background-color:#4a596b;color:#fff;flex:2;text-align:center;font-size:16px;line-height:1.6rem}.result-box{width:90%;margin:auto;border:1px solid #ccc;padding-bottom:.53333rem;padding-top:.53333rem;font-size:16px;text-align:center}.result-box .add-friend-requst{width:50%;margin:auto;height:1.06667rem;line-height:1.06667rem;background-color:#4a596b;color:#fff;text-align:center;margin-top:.26667rem;font-size:16px}.result-box .add-friend-requst.disabled{background-color:#ccc}\n",""])},function(t,e,i){"use strict";var s=i(16);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,".full{width:100%}.top-title{text-align:center;height:1.33333rem;border-bottom:1px solid #ccc;position:relative}.show-title{font-size:16px;line-height:1.33333rem}.goback{height:100%;width:1.33333rem;line-height:1.33333rem;color:#ccc;position:absolute;left:0}\n",""])},function(t,e,i){"use strict";var s=i(17);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,".tips{width:60%;height:30px;border:1px solid #ccc;position:fixed;top:20%;font-size:16px;text-align:center;line-height:30px;left:50%;transform:translateX(-50%);background:#4a596b;color:#fff;font-size:14px}\n",""])},function(t,e){!function(t){var e,i='<svg><symbol id="icon-icon-test" viewBox="0 0 1024 1024"><path d="M896 128H128a32 32 0 0 0-32 32v576a32 32 0 0 0 32 32h288v-64H160V192h704v512h-256c-8.832 0-16.832 3.584-22.656 9.376l-159.968 160 45.248 45.248L621.248 768H896a32 32 0 0 0 32-32V160a32 32 0 0 0-32-32"   ></path><path d="M560 448a48 48 0 1 0-95.968-0.032A48 48 0 0 0 560 448M240 448a48 48 0 1 0 95.968 0.032A48 48 0 0 0 240 448M784 448a48 48 0 1 0-95.968-0.032A48 48 0 0 0 784 448"   ></path></symbol><symbol id="icon-icon-test1" viewBox="0 0 1024 1024"><path d="M192 448c0-141.152 114.848-256 256-256s256 114.848 256 256-114.848 256-256 256-256-114.848-256-256z m710.624 409.376l-206.88-206.88A318.784 318.784 0 0 0 768 448c0-176.736-143.264-320-320-320S128 271.264 128 448s143.264 320 320 320a318.784 318.784 0 0 0 202.496-72.256l206.88 206.88 45.248-45.248z"   ></path></symbol><symbol id="icon-icon-test2" viewBox="0 0 1024 1024"><path d="M512 640c-70.592 0-128-57.408-128-128s57.408-128 128-128 128 57.408 128 128-57.408 128-128 128m0-320a192 192 0 0 0 0 384 192 192 0 0 0 0-384"   ></path><path d="M693.216 735.552a291.744 291.744 0 0 1-40.512 27.52c-1.216 0.64-2.368 1.472-3.616 2.144a286.08 286.08 0 0 1-34.048 15.392l-19.552 72.992-9.28 34.592c-0.576 0.128-1.152 0.32-1.76 0.384l-8.736 1.632c-3.52 0.64-7.104 1.088-10.656 1.6a357.152 357.152 0 0 1-53.056 3.744c-5.216 0-10.464-0.128-15.68-0.32l-8.64-0.48a355.936 355.936 0 0 1-28.736-2.944c-3.52-0.512-7.072-0.96-10.624-1.6a418.496 418.496 0 0 1-8.736-1.6l-1.76-0.416-9.28-34.56-19.584-73.024a286.784 286.784 0 0 1-47.84-23.776 287.488 287.488 0 0 1-30.304-21.28l-72.96 19.552-34.56 9.28-1.184-1.376a237.504 237.504 0 0 1-5.792-6.72c-2.304-2.784-4.512-5.664-6.752-8.512a315.84 315.84 0 0 1-16.928-23.424c-1.6-2.336-3.104-4.768-4.64-7.168a337.92 337.92 0 0 1-15.68-27.168 435.84 435.84 0 0 1-3.936-7.68c-1.536-3.104-3.072-6.208-4.512-9.344a362.912 362.912 0 0 1-7.296-17.024c-1.344-3.328-2.688-6.656-3.968-9.984l-2.976-8.448-0.512-1.696 25.184-25.184 53.568-53.632a292.8 292.8 0 0 1-3.68-41.28c0-1.28-0.192-2.496-0.192-3.744 0-1.28 0.192-2.464 0.192-3.744a292.8 292.8 0 0 1 3.68-41.28l-53.568-53.632-25.184-25.184a438.656 438.656 0 0 1 3.488-10.144c1.28-3.36 2.624-6.688 3.968-10.048a375.68 375.68 0 0 1 52.992-91.776c2.24-2.848 4.448-5.696 6.72-8.48 1.92-2.24 3.84-4.48 5.824-6.72l1.184-1.376 34.56 9.28 72.96 19.52c9.568-7.776 19.744-14.72 30.304-21.28l4.064-2.464a283.68 283.68 0 0 1 43.776-21.28l19.584-73.024 9.28-34.56 1.76-0.416c2.88-0.544 5.76-1.12 8.704-1.6 3.52-0.608 7.168-1.12 10.752-1.6 6.08-0.864 12.16-1.6 18.336-2.208a362.752 362.752 0 0 1 19.008-1.184c5.184-0.224 10.4-0.384 15.616-0.384 5.216 0 10.464 0.16 15.648 0.384a362.752 362.752 0 0 1 19.008 1.184c6.08 0.576 12.224 1.344 18.304 2.24 3.616 0.448 7.2 0.96 10.784 1.536l8.704 1.632 1.76 0.384 9.28 34.592 19.52 72.992c11.712 4.512 23.168 9.472 34.08 15.392 1.248 0.672 2.4 1.504 3.616 2.176 14.304 8.064 27.84 17.216 40.512 27.52l72.96-19.584 34.528-9.248 1.216 1.344c1.92 2.24 3.904 4.48 5.76 6.752 2.304 2.752 4.48 5.632 6.72 8.448 3.84 4.864 7.552 9.792 11.136 14.848 1.984 2.816 3.904 5.696 5.824 8.544l4.672 7.232a357.472 357.472 0 0 1 19.616 34.88 397.184 397.184 0 0 1 11.776 26.336c1.344 3.328 2.72 6.656 4 10.048 1.024 2.784 1.984 5.568 2.944 8.384 0.192 0.576 0.32 1.152 0.544 1.728l-25.184 25.184-53.6 53.6c1.92 12.064 3.104 24.352 3.488 36.896 0.064 2.72 0.384 5.44 0.384 8.16 0 2.752-0.32 5.44-0.384 8.16a291.136 291.136 0 0 1-3.52 36.864l53.632 53.632 25.184 25.184-0.544 1.696c-0.96 2.816-1.92 5.6-2.944 8.384-1.28 3.392-2.624 6.72-4 10.08a376.32 376.32 0 0 1-11.776 26.336 435.84 435.84 0 0 1-11.456 21.44c-2.624 4.544-5.376 8.992-8.16 13.44-1.536 2.368-3.072 4.8-4.64 7.136a315.84 315.84 0 0 1-16.96 23.456c-2.24 2.88-4.48 5.696-6.72 8.448-1.92 2.304-3.84 4.512-5.792 6.752-0.384 0.48-0.8 0.896-1.216 1.344l-34.56-9.248-72.96-19.52z m-305.12 139.328c-2.624-0.896-5.28-1.728-7.872-2.688l-3.328-1.216-3.328-1.28c4.896 1.92 9.856 3.584 14.816 5.248l-0.32-0.064z m-119.424-66.368l-2.656-2.24c-2.144-1.824-4.224-3.712-6.336-5.568l-0.224-0.192c3.968 3.52 7.936 6.976 12.064 10.272l-2.88-2.24z m623.776-245.664l-0.192-0.16-0.096-0.128h-0.032l-29.184-29.216c0.416-7.104 1.056-14.144 1.056-21.344 0-7.232-0.64-14.272-1.056-21.376l29.184-29.184 0.128-0.128 0.192-0.192 54.72-54.72a444.032 444.032 0 0 0-18.4-57.376 449.664 449.664 0 0 0-28.8-61.024c-11.424-19.84-24.576-38.08-38.432-55.456a449.024 449.024 0 0 0-40.48-44.64l-74.752 20.032-0.064 0.032-0.224 0.064-0.16 0.032h-0.032l-39.424 10.56a348.448 348.448 0 0 0-37.472-21.376l-10.624-39.68-0.032-0.064-0.032-0.16-0.064-0.224v-0.064l-20.032-74.752a447.68 447.68 0 0 0-58.88-12.736A448.128 448.128 0 0 0 512 64c-22.912 0-45.248 2.24-67.232 5.568-20.096 3.04-39.776 7.136-58.88 12.736l-20.032 74.752-0.032 0.064-0.064 0.224-0.032 0.16v0.064l-10.656 39.68c-12.928 6.464-25.504 13.472-37.472 21.44l-39.392-10.56-0.064-0.064h-0.16l-0.224-0.096h-0.064l-74.72-20.064c-14.432 13.76-27.84 28.8-40.48 44.64A446.816 446.816 0 0 0 124.032 288c-11.456 19.84-20.672 40.32-28.8 61.024A450.496 450.496 0 0 0 76.8 406.4l54.72 54.72v0.064l0.224 0.16 0.096 0.128v0.032l29.216 29.184C160.64 497.76 160 504.8 160 512c0 7.2 0.64 14.208 1.088 21.312l-29.184 29.184-0.032 0.032-0.096 0.128-0.192 0.192-0.032 0.032L76.8 617.6c4.704 19.328 11.008 38.464 18.4 57.344 8.128 20.704 17.344 41.216 28.8 61.056 11.456 19.84 24.576 38.08 38.464 55.424 12.672 15.872 26.048 30.88 40.48 44.64l74.72-20.032h0.064l0.224-0.064 0.16-0.064h0.064l39.36-10.56c12 7.936 24.576 14.912 37.504 21.376l10.656 39.712v0.224l0.096 0.224v0.032l20.064 74.752c19.104 5.6 38.784 9.728 58.88 12.736a447.68 447.68 0 0 0 67.2 5.6c22.976 0 45.28-2.24 67.296-5.6a442.56 442.56 0 0 0 58.88-12.736l20.032-74.752 0.064-0.256 0.064-0.192 10.624-39.68c12.928-6.496 25.504-13.504 37.44-21.44l39.456 10.56v0.032l0.192 0.032 0.224 0.064h0.064l74.752 20.032c14.4-13.76 27.808-28.768 40.48-44.64A449.92 449.92 0 0 0 900 736c11.456-19.84 20.64-40.32 28.768-61.056 7.424-18.88 13.728-37.984 18.432-57.344l-54.72-54.72h-0.032z"   ></path></symbol><symbol id="icon-icon-test3" viewBox="0 0 1024 1024"><path d="M512 448c-35.296 0-64-28.704-64-64s28.704-64 64-64 64 28.704 64 64-28.704 64-64 64m0-192c-70.592 0-128 57.408-128 128s57.408 128 128 128 128-57.408 128-128-57.408-128-128-128"   ></path><path d="M768 797.632v-69.92a151.904 151.904 0 0 0-151.712-151.68h-208.576A151.904 151.904 0 0 0 256 727.68v69.92C177.632 727.36 128 625.6 128 512 128 299.904 299.936 128 512 128s384 171.904 384 384c0 113.6-49.632 215.36-128 285.632m-448 46.56v-116.48a87.776 87.776 0 0 1 87.712-87.68h208.576A87.776 87.776 0 0 1 704 727.68v116.48a381.568 381.568 0 0 1-384 0m192-780.16C264.96 64 64 264.96 64 512c0 246.976 200.96 448 448 448s448-201.024 448-448c0-247.04-200.96-448-448-448"   ></path></symbol></svg>';if((e=document.getElementsByTagName("script"))[e.length-1].getAttribute("data-injectcss")&&!t.__iconfont__svg__cssinject__){t.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;vertical-align: -0.1em;font-size:16px;}</style>")}catch(e){console&&console.log(e)}}!function(e){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(e,0);else{var i=function(){document.removeEventListener("DOMContentLoaded",i,!1),e()};document.addEventListener("DOMContentLoaded",i,!1)}else document.attachEvent&&(o=e,n=t.document,r=!1,(a=function(){try{n.documentElement.doScroll("left")}catch(t){return void setTimeout(a,50)}s()})(),n.onreadystatechange=function(){"complete"==n.readyState&&(n.onreadystatechange=null,s())});function s(){r||(r=!0,o())}var o,n,r,a}((function(){var t,e,s,o,n,r;(t=document.createElement("div")).innerHTML=i,i=null,(e=t.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",s=e,(o=document.body).firstChild?(n=s,(r=o.firstChild).parentNode.insertBefore(n,r)):o.appendChild(s))}))}(window)},function(t,e,i){"use strict";var s=i(18);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,".icon{width:20px;height:20px;vertical-align:-0.15em;fill:#ccc;overflow:hidden;font-size:16px}\n",""])},function(t,e,i){var s=i(92);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,".full{width:100%}#nav{width:100%;height:1.33333rem;border-top:1px solid #ccc}#nav ul{width:100%;height:100%;display:flex}#nav ul li{flex:1;text-align:center;line-height:30px;cursor:pointer}#nav ul li.cur-selected .icon{fill:#4a596b}\n",""])},function(t,e,i){"use strict";var s=i(19);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,".full{width:100%}.chating{width:100%;height:100%;position:absolute;z-index:1;background:#fff;display:flex;flex-direction:column;overflow:hidden}.chating .title{width:100%;height:60px;line-height:60px;padding-left:15px;border-bottom:1px solid #98A3AD}.chating .display-box{height:100%;width:100%}.chating .input-zone{height:40px;position:relative}.chating .input-zone .emoji-container{height:100px;position:absolute;top:-100px;overflow:auto;border-top:1px solid #ccc}.chating .input-zone .emoji-container ul li{float:left;font-size:16px;width:12.5%;text-align:center;padding:10px 0}.chating .input-zone-container{height:40px;width:100%;border-top:1px solid #ccc;display:flex}.chating .input-zone-container .emoji-btn{flex:2;text-align:center;line-height:25px}.chating .input-zone-container textarea{display:block;border:none;outline:none;resize:none;text-indent:5px;flex:7}.chating .input-zone-container button{display:block;border:none;outline:none;resize:none;text-indent:5px;flex:3}.display-box{overflow-y:auto}.message-item{width:100%;padding:15px 0;overflow:hidden}.self-message{text-align:right}.friend-message{text-align:left}.self-message .avatar{width:1.2rem;height:1.2rem;border-radius:20px;margin:0px 10px 0 15px;float:right}.self-message .message{float:right;height:1.2rem;line-height:1.2rem;border-radius:10px;padding:0 10px;color:#fff;font-size:16px;background-color:#fff;color:#aaa}.friend-message .avatar{width:1.2rem;height:1.2rem;margin:0px 10px 0 15px;float:left}.friend-message .message{float:left;height:1.2rem;line-height:1.2rem;border-radius:10px;padding:0 10px;color:#aaa;font-size:16px;background-color:#fff}\n",""])},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,,function(t,e,i){"use strict";var s=i(20);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,".full{width:100%}#chat-container{width:100%;height:100%;display:flex;flex-direction:column}\n",""])},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,".full{width:100%}.login-title{text-align:center;padding-top:2.66667rem;padding-bottom:2.66667rem}.input-row{width:7.33333rem;height:1.6rem;margin:auto;border-bottom:1px solid #ccc;overflow:hidden}.input-row input{width:100%;height:100%;text-indent:.13333rem;font-size:16px;outline:none;border:none}.login-btn{width:7.33333rem;height:1.6rem;text-align:center;margin:auto;font-size:16px;line-height:1.6rem;text-align:center;background-color:#4a596b;color:#fff;margin-top:.66667rem}.router-login{width:100%;font-size:16px;text-align:center;padding-top:.66667rem}.router-login a{color:#4a596b;text-decoration:underline}\n",""])},function(t,e,i){"use strict";var s=i(21);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,".full{width:100%}.set-info{width:100%;height:100%;margin:auto}.set-info .set-avatar{height:40%;background-color:rgba(0,0,0,0.3);background-position:center;display:flex;position:relative}.set-info .set-avatar .avatar-mask{width:100%;height:100%;position:absolute;opacity:0.8;background:#fff}.set-info .set-avatar .cur-avatar{width:2.66667rem;height:2.66667rem;overflow:hidden;margin:auto;align-items:center;background:#4a596b;border:1px solid #4a596b;border-radius:2.66667rem;position:relative;z-index:1}.set-info .set-avatar .cur-avatar img{width:100%;height:100%}.set-info ul{width:90%;margin:auto}.set-info ul li{font-size:16px;display:flex;height:1.33333rem;line-height:1.33333rem;padding-top:5%;border-bottom:1px solid #ccc}.set-info ul li input{width:100%;border:none;outline:none;text-indent:5px}.set-info .sure{width:7.33333rem;height:1.6rem;margin:auto;font-size:16px;text-align:center;line-height:1.6rem;color:#fff;background:#4a596b;margin-top:.66667rem}\n",""])},function(t,e,i){"use strict";var s=i(22);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,".full{width:100%}.seach-box{width:90%;margin:auto;display:flex;height:1.6rem;padding-top:1.6rem}.seach-box input{flex:8;text-indent:.13333rem}.seach-box .seach{background-color:#4a596b;color:#fff;flex:2;text-align:center;font-size:16px;line-height:1.6rem}.friend-result{width:90%;margin:auto;border:1px solid #ccc;padding-bottom:.53333rem;padding-top:.53333rem;font-size:16px;text-align:center}.friend-result .add-friend-requst{width:50%;margin:auto;height:1.06667rem;line-height:1.06667rem;background-color:#4a596b;color:#fff;text-align:center;margin-top:.26667rem;font-size:16px}\n",""])},function(t,e,i){"use strict";var s=i(23);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,".full{width:100%}.guide{width:90%;font-size:16px;margin:auto;padding-top:20px}\n",""])},function(t,e,i){"use strict";var s=i(24);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,"",""])},function(t,e,i){"use strict";var s=i(25);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,"#message-list{width:100%;height:100%;background:#fff}#message-list ul{clear:both}.last-msg{font-size:12px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:#aaa;padding-right:20px}.unread-count{position:absolute;right:10px;top:10px;font-size:12px;color:red;width:15px;height:15px;border:1px solid red;line-height:15px;text-align:center;border-radius:15px;font-style:normal}\n",""])},function(t,e,i){"use strict";var s=i(26);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,"#frind-list{width:100%;height:100%;background:#fff}#frind-list ul{clear:both}.user-item{height:60px;width:100%;position:relative}.avatar{width:35px;height:35px;border-radius:20px;margin:15px 10px 0 15px;float:left;overflow:hidden;border:1px solid #ccc;box-sizing:border-box;position:relative}.avatar img{width:100%;height:100%}.info{float:left;margin-top:10px;width:calc(100% - 60px)}.nickname{font-size:18px}.feeling{font-size:12px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:#aaa;padding-right:20px}.roll{font-size:16px;text-indent:10px;background-color:#4a596b;padding:10px 0;color:#ccc}\n",""])},function(t,e,i){"use strict";var s=i(27);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,".full{width:100%}#setting-list{width:100%;height:100%;background:#fff}.setting-box{width:90%;margin:auto}.setting-box ul{width:100%;border-bottom:1px solid #ccc;overflow:hidden;padding-top:10%}.setting-box ul li{font-size:16px;border-left:1px solid #ccc;border-top:1px solid #ccc;box-sizing:border-box;width:33.33%;float:left;height:2.66667rem;line-height:2.66667rem;text-align:center}.setting-box ul li:nth-child(3n){border-right:1px solid #ccc}\n",""])},function(t,e,i){"use strict";var s=i(28);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,"",""])},function(t,e,i){"use strict";var s=i(29);i.n(s).a},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,"",""])},,,function(t,e,i){var s=i(147);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(2)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){(t.exports=i(1)(!1)).push([t.i,".full{width:100%}\n",""])},function(t,e,i){"use strict";i.r(e);var s=i(5),o=i(4),n=i(30),r=i.n(n),a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"container"}},[e("router-view")],1)};a._withStripped=!0;var l={name:"app",data:function(){return{}},created(){},mounted(){},methods:{},beforeDestroy(){}},c=(i(77),i(0)),d=Object(c.a)(l,a,[],!1,null,null,null);d.options.__file="src/App.vue";var u=d.exports,h=i(39),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.switchStatus?i("div",{attrs:{id:"modal"}},[i("div",{attrs:{id:"modal-mask"}}),t._v(" "),i("div",{attrs:{id:"modal-box"}},[i("div",{staticClass:"content"},[t._t("default")],2),t._v(" "),i("div",{staticClass:"btns"},[t.okText?i("div",{staticClass:"btn ok-btn",on:{click:t.handelOk}},[t._v(t._s(t.okText))]):t._e(),t._v(" "),t.cancelText?i("div",{staticClass:"btn cancel-bnt",on:{click:t.handelCancle}},[t._v(t._s(t.cancelText))]):t._e()])])]):t._e()};p._withStripped=!0;var m={name:"modal",props:{okText:String,cancelText:String,switchStatus:Boolean},model:{prop:"switchStatus",event:"swtich"},computed:{},methods:{swtichModel(){this.$emit("switch",!this.swtichModel)},handelOk(){this.$emit("ok")},handelCancle(){this.$emit("cancel")}}},v=(i(80),Object(c.a)(m,p,[],!1,null,null,null));v.options.__file="src/components/modal/index.vue";var f=v.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"seach-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKey,expression:"searchKey"}],attrs:{placeholder:t.placeholder,maxlength:"6"},domProps:{value:t.searchKey},on:{input:function(e){e.target.composing||(t.searchKey=e.target.value)}}}),t._v(" "),i("div",{staticClass:"seach",on:{click:t.handleSearch}},[t._v("搜索")])]),t._v(" "),t.showResult?i("div",{staticClass:"result-box"},[t.searchResult.status?["group"==t.type?[i("div",[t._v("群名："+t._s(t.searchResult.name))]),t._v(" "),i("div",[t._v("群地址："+t._s(t.searchResult.location))])]:[i("div",{staticClass:"avatar-box"}),t._v(" "),i("div",{staticClass:"name"},[t._v(t._s(t.searchResult.nickname)+"("+t._s(t.lastSearchKey)+")")]),t._v(" "),t.searchResult.declaration?i("div",{staticClass:"declaration"},[t._v("“"+t._s(t.searchResult.declaration)+"”")]):t._e()],t._v(" "),i("div",{staticClass:"add-friend-requst",class:t.addBtnClass,on:{click:t.handleAdd}},[t._v(t._s(t.addBtnText))])]:[t._v(t._s(t.noResultText)+"不存在，请重试")]],2):t._e()])};g._withStripped=!0;var x={name:"search-box",props:["placeholder","showResult","searchResult","type"],components:{},data:()=>({lastSearchKey:"",searchKey:""}),computed:{addBtnText(){return"group"===this.type?"申请入群":"好友申请"},noResultText(){return"group"===this.type?`群 '${this.lastSearchKey}' `:"好友 "+this.lastSearchKey},addBtnClass(){return this.searchResult.isInGroup?"disabled":""}},methods:{handleSearch(){this.lastSearchKey=this.searchKey,this.$emit("search",this.searchKey)},handleAdd(){this.searchResult.isInGroup?alert("您已经在这个群里了"):this.$emit("add",this.searchKey)}},created(){}},_=(i(82),Object(c.a)(x,g,[],!1,null,null,null));_.options.__file="src/components/search/index.vue";var b=_.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"top-title",attrs:{id:"header"}},[t.isShowGoBackBtn?i("div",{staticClass:"goback",on:{click:t.handleClick}},[t._v("<")]):t._e(),t._v(" "),i("div",{staticClass:"show-title"},[t._v(t._s(t.title))])])};w._withStripped=!0;var y={name:"top-header",props:["title"],data:()=>({}),created(){},computed:{isShowGoBackBtn:function(){return"主页"!=this.title},isChatOpen(){return this.$store.state.isChatOpen}},methods:{handleClick(){this.isChatOpen?this.$store.commit("switchChatBox"):this.$router.go(-1)}}},k=(i(84),Object(c.a)(y,w,[],!1,null,null,null));k.options.__file="src/components/header/index.vue";var C=k.exports,S=function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.isShow,expression:"isShow"}],staticClass:"tips"},[this._v("\n  "+this._s(this.content)+"\n")])};S._withStripped=!0;var O={name:"tips",components:{},data:()=>({isShow:!0,content:""}),computed:{},methods:{show(t){this.content=t,this.isShow=!0},hide(){this.isShow=!1,this.isShow=""}},created(){},mounted(){setTimeout(()=>{this.isShow=!1},2e3)}},$=(i(86),Object(c.a)(O,S,[],!1,null,null,null));$.options.__file="src/components/tips/index.vue";var I=$.exports;const j={Modal:f,SearchBox:b,Header:C,Tips:I};var T={install:function(t,e){for(let e in j)t.component(e,j[e]);t.prototype.axios=e.requst;let i=new(t.extend(I));t.prototype.$Tips={show:function(t){console.log("show");let e=i.$mount();document.getElementById("container").appendChild(e.$el),e.show(t)}}}};var M={bind(){},inserted(t){console.log("insert"),console.log(t.innerHTML),t.addEventListener("click",(function(){console.log(t.innerHTML),navigator.clipboard.writeText(t.innerHTML).then((function(){console.log("复制成功")}),(function(){}))}))},update(){}};var z={install(t,e){t.directive("clip",M)}},E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"chat-container"}},[i("Header",{attrs:{title:"主页"}}),t._v(" "),i("ChatSingle"),t._v(" "),i("Modal",{attrs:{okText:t.btnsText.ok,cancelText:t.btnsText.cancel},on:{ok:t.okFn,cancel:t.cancleFn},model:{value:t.isOpenModal,callback:function(e){t.isOpenModal=e},expression:"isOpenModal"}},[t._v(t._s(t.addFriendContent))]),t._v(" "),i("keep-alive",[i("router-view",{attrs:{include:"chatbox"}})],1),t._v(" "),i("Nav")],1)};E._withStripped=!0;var F={set(t,e){localStorage.setItem(t,JSON.stringify(e))},get:t=>JSON.parse(localStorage.getItem(t)),remove(t){localStorage.removeItem(t)},clear(){localStorage.clear()}},P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"nav"}},[i("ul",t._l(t.list,(function(e){return i("li",{key:e.url,class:{"cur-selected":t.currentType==e.type},on:{click:function(i){return t.select(e.url,e.type)}}},[i("Icon",{attrs:{type:e.type}})],1)})),0)])};P._withStripped=!0;var A=function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":this.icontype}})])};A._withStripped=!0;i(88);var G={name:"chat-icon",props:["type"],computed:{icontype(){return"#icon-icon-"+{message:"test",search:"test1",setting:"test2",user:"test3"}[this.type]}}},L=(i(89),Object(c.a)(G,A,[],!1,null,null,null));L.options.__file="src/page/nav/icon.vue";var B=L.exports,R=(i(91),{name:"navContainer",data:()=>({currentType:"message",list:[{type:"message",url:"/",title:"消息"},{type:"user",url:"/friends",title:"用户"},{type:"setting",url:"/settings",title:"设置"}]}),components:{Icon:B},methods:{select(t,e){this.currentType=e,this.$router.push(t)}},computed:{}}),N=Object(c.a)(R,P,[],!1,null,null,null);N.options.__file="src/page/nav/index.vue";var q=N.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isChatOpen?i("div",{staticClass:"chating"},[i("Header",{attrs:{title:t.title}}),t._v(" "),i("div",{staticClass:"display-box"},[i("ul",t._l(t.currentMessageList,(function(e){return i("li",{key:e.index,staticClass:"message-item",class:[e.from==t.user?"self-message":"friend-message"]},[i("span",{staticClass:"avatar"},[i("img",{attrs:{src:t._f("renderImgPath")(t.avatarMap[e.from]),alt:""}})]),t._v(" "),i("div",{staticClass:"message"},[t._v("\n             "+t._s(e.message)+"\n          ")])])})),0)]),t._v(" "),i("div",{staticClass:"input-zone"},[t.isShowEmoji?i("div",{staticClass:"emoji-container"},[i("ul",t._l(t.emoji,(function(e){return i("li",{key:e.index,on:{click:function(i){return t.chooseEmoji(e)}}},[t._v(t._s(e))])})),0)]):t._e(),t._v(" "),i("div",{staticClass:"input-zone-container"},[i("div",{staticClass:"emoji-btn",on:{click:t.switchEmojiContainer}},[i("svg",{staticClass:"icon",attrs:{t:"1595920075882",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6944"}},[i("path",{attrs:{d:"M512 0C229.376 0 0 229.376 0 512s229.376 512 512 512 512-229.376 512-512S794.624 0 512 0z m0 984.064C251.392 984.064 39.936 772.608 39.936 512S251.392 39.936 512 39.936 984.064 251.392 984.064 512 772.608 984.064 512 984.064z","p-id":"6945"}}),i("path",{attrs:{d:"M512 748.544c-134.144 0-243.2-108.544-243.2-243.2h-39.936c0 156.16 126.464 283.136 283.136 283.136s283.136-126.464 283.136-283.136H755.2c0 134.656-109.056 243.2-243.2 243.2zM268.8 343.552c0 25.088 19.968 45.056 45.056 45.056s45.056-19.968 45.056-45.056-19.968-45.056-45.056-45.056-45.056 19.968-45.056 45.056z m396.288 0c0 25.088 19.968 45.056 45.056 45.056S755.2 368.64 755.2 343.552s-19.968-45.056-45.056-45.056-45.056 19.968-45.056 45.056z","p-id":"6946"}})])]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],ref:"inputTextArea",attrs:{id:"aaa"},domProps:{value:t.message},on:{input:[function(e){e.target.composing||(t.message=e.target.value)},t.markPosition],click:t.markPosition}}),t._v(" "),i("button",{on:{click:t.clickSendBtn}},[t._v("发送")])])])],1):t._e()};H._withStripped=!0;var U={filters:{renderImgPath(t){if(!t)return"/image/avatar/default.png";var e=/\\avatar\\\d+\.\w+/.exec(t);return e?e[0].replace(/\\/g,"/"):t}}};var K={name:"chatbox",inject:["user","socket","groupSocketMap"],mixins:[U],data:()=>({message:"",face:"😀😃😄😁😆😅😂🤣😊😇🙂🙃😉😌😍🥰😘😗😙😚😋😛😝😜🤪🤨🧐🤓😎🤩🥳😏😒😞😔😟😕🙁☹️😣😖😫😩🥺😢😭😤😠😡🤬",isShowEmoji:!1,position:0}),computed:(Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t})({emoji:function(){let t=[];for(var e=escape(this.face),i=/(%\w{5}){2}/g,s=null;s=i.exec(e);)t.push(unescape(s[0]));return t},title:function(){return"single"===this.currentChatType?`正在和 ${this.$store.state.currentFirend.user} 聊天...`:this.currentGroup.name+"("+this.currentGroup.users.length+")"},currentMessageList:function(){return"single"===this.currentChatType?this.msgStore.single[this.currentFirend.user]:this.msgStore.group[this.currentGroup.id]}},Object(o.b)(["msgStore","isChatOpen","currentFirend","avatarMap","currentChatType","currentGroup"])),created(){this.socket;this.msgStore},methods:{chooseEmoji(t){console.log(t);const e=this.insertEmoji(t);this.message=e,this.position++,this.$nextTick(()=>{console.log("nextTick"),this.$refs.inputTextArea.focus(),this.$refs.inputTextArea.selectionStart=this.position}),console.log(e)},insertEmoji(t){return console.log(this.message.slice(0,this.position)),console.log(this.message.slice(this.position,this.message.length)),this.message.slice(0,this.position)+t+this.message.slice(this.position,this.message.length)},markPosition(){console.log(this.$refs.inputTextArea.selectionStart),this.position=this.$refs.inputTextArea.selectionStart},processUnread(t){let e=t.from;if(e!=this.currentFirend){var i=this.unread[e]?this.unread[e]:0;this.$set(this.unread,e,++i)}},sendSingle(){let t=this.currentFirend.user,e={message:this.message,time:(new Date).getTime(),from:this.user,to:t,type:"single",action:"send"};this.$store.commit("setMessageStore",e),this.socket.emit("msg",e),this.message=""},sendGoup(){const t=this.groupSocketMap[this.currentGroup.id];let e={message:this.message,time:(new Date).getTime(),from:this.user,to:this.currentGroup.id,type:"group",action:"send"};t.emit("msg",e)},clickSendBtn(){"single"===this.currentChatType?this.sendSingle():this.sendGoup()},switchEmojiContainer(){this.isShowEmoji=!this.isShowEmoji,this.$nextTick(()=>{console.log("nextTick"),this.$refs.inputTextArea.focus(),this.$refs.inputTextArea.selectionStart=this.position})}}},D=(i(93),Object(c.a)(K,H,[],!1,null,null,null));D.options.__file="src/page/chat/chatSingle.vue";var J=D.exports,V=i(38),X=i.n(V),Q={name:"mainPage",data:()=>({groupSocketMap:{},user:F.get("chat").user,isOpenModal:!1,addFriendContent:"",messageFrom:"",option:"",btnsText:{ok:"",cancel:""}}),computed:(Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t})({},Object(o.b)(["socket","isChatOpen","currentFirend","groupIds"])),components:{Nav:q,ChatSingle:J},provide(){return{socket:this.socket,user:this.user,groupSocketMap:this.groupSocketMap}},created(){this.initSocket(),this.setHeader(),this.pullFriends(),this.handleAddFriend(),this.initSingleChannel()},beforeRouteEnter(t,e,i){F.get("chat")?i():(console.log("没有登录，跳转到注册页"),i("/regist"))},methods:{initSocket(){const t=X()("http://127.0.0.1:8888/?user="+F.get("chat").user);this.$store.commit("initSocket",t)},setHeader(){r.a.defaults.headers.common.Authorization=F.get("chat")&&F.get("chat").token},initGroupChannel(t){t.forEach(t=>{let e=X()("http://127.0.0.1:8888/"+t);this.$set(this.groupSocketMap,t,e),e.on("connect",(function(){console.log(t," connect"),console.log(e)})),e.on("msg",t=>{console.log("group msg:",t),this.storeMessage(t)})})},initSingleChannel(){const t=this.socket;t.on("userList",t=>{console.log(t),this.$store.commit("setUserList",t)}),t.on("sys",(function(t){console.log(t)})),t.on("msg",t=>{console.log("recive:",t),this.handleUnread(t);t.from;t.time=(new Date).getTime(),t.action="recive",this.storeMessage(t)})},storeMessage(t){this.$store.commit("setMessageStore",t)},handleUnread(t){let e=this.currentFirend.user,i=t.from;e===i&&this.isChatOpen||this.$store.commit("setUnreadCount",{key:i,type:"single"})},pullFriends(){let t=this.axios.get("/user/info/",{params:{user:this.user,needFriendsAndGroup:!0}}),e=this.axios.get("/user/allUsers"),i=this.axios.get("/group/allGroups");Promise.all([t,e,i]).then(t=>{if(console.log(t),t.some(t=>-1===t.data.code))return this.$Tips.show("登录过期，请重新登录"),F.remove("chat"),void setTimeout(()=>{this.$router.push("/login")});let e=t[0].data.data,i=t[0].data.groups,s=t[1].data.data,o=t[2].data.groups,n={},r={},a={};o.forEach(t=>{r[t.id]=t});let l=i.map(t=>r[t]);e.forEach(t=>{for(let e in t)n[e]=t[e]});let c=s.filter(t=>(a[t.user]=t.avatar,n[t.user]));this.$store.commit("setGroupsInfoList",l),this.$store.commit("setFriendsInfo",c),this.$store.commit("setAvatarMap",a),this.$store.commit("setGroupIds",i),this.initGroupChannel(i),console.log(c)}).catch(t=>{})},handleAddFriend(){this.socket.on("addFriend",t=>{console.log(t),t.option?this.btnsText.cancel="":this.btnsText.cancel="暂时忽略",this.btnsText.ok="确定",this.option=t.option,this.messageFrom=t.from,this.addFriendContent=t.message,this.isOpenModal=!0})},handleClickBtn(){let t=this.isShowGoBackBtn=!this.isShowGoBackBtn;title=t?title:this.lastTitle,this.changeTitle(title)},okFn(){this.option||(console.log("friend add!"),this.socket.emit("addFriend",{to:this.messageFrom,from:this.user,type:"response",option:"agree"})),this.isOpenModal=!1},cancleFn(){}}},W=(i(123),Object(c.a)(Q,E,[],!1,null,null,null));W.options.__file="src/page/main/index.vue";var Y=W.exports,Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"full"},[i("p",{staticClass:"login-title"},[t._v("密码登录")]),t._v(" "),i("div",{staticClass:"input-row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],attrs:{type:"text",placeholder:"请输入用户名",name:"user"},domProps:{value:t.user},on:{input:function(e){e.target.composing||(t.user=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"input-row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password",placeholder:"请输入密码",name:"pwd"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"login-btn",on:{click:t.submit}},[t._v("登录")])])};Z._withStripped=!0;i(60);var tt={beforeRouteEnter(t,e,i){console.log(t),F.get("chat")?i(!1):i()}},et={name:"login",mixins:[tt],data:()=>({user:"",pwd:""}),methods:{submit(){console.log(this.axios),this.axios.post("/login",{user:this.user,pwd:this.pwd}).then(t=>{let e=t.data;"1"===e.code&&(F.set("chat",{token:e.token,user:this.user}),this.$router.push("/"))}).catch(t=>{})}}},it=Object(c.a)(et,Z,[],!1,null,null,null);it.options.__file="src/page/login/index.vue";var st=it.exports,ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"full"},[i("p",{staticClass:"login-title"},[t._v("用户注册")]),t._v(" "),i("div",{staticClass:"input-row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],attrs:{type:"text",placeholder:"请输入用户名",name:"user"},domProps:{value:t.user},on:{input:function(e){e.target.composing||(t.user=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"input-row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password",placeholder:"请输入密码",name:"pwd"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"input-row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.repwd,expression:"repwd"}],attrs:{type:"password",placeholder:"请再次输入密码",name:"repwd"},domProps:{value:t.repwd},on:{input:function(e){e.target.composing||(t.repwd=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"login-btn",on:{click:t.submit}},[t._v("注册")]),t._v(" "),i("div",{staticClass:"router-login"},[t._v("\n    已经有账号了？去"),i("router-link",{attrs:{to:"/login"}},[t._v(" 登录")])],1)])};ot._withStripped=!0;var nt={name:"regist",mixins:[tt],data:()=>({user:"",pwd:"",repwd:""}),methods:{submit(){this.pwd&&this.repwd?this.repwd===this.pwd?this.axios.post("/regist",{user:this.user,pwd:this.pwd}).then(t=>{const e=t.data;"1"===e.code&&(F.set("chat",{token:e.token,user:this.user}),this.$router.push("/"))}).catch(t=>{console.log(t)}):alert("两次输入的密码不一致"):alert("请输入正确的密码")}}},rt=Object(c.a)(nt,ot,[],!1,null,null,null);rt.options.__file="src/page/regist/index.vue";var at=rt.exports,lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"set-info",attrs:{id:"set-info"}},[i("Header",{attrs:{title:"个人信息设置"}}),t._v(" "),i("div",{staticClass:"set-avatar",style:{"background-image":"url("+t.renderImgPath+")"}},[i("div",{staticClass:"avatar-mask"}),t._v(" "),i("div",{staticClass:"cur-avatar",on:{click:t.handleClick}},[i("img",{attrs:{src:t.renderImgPath,alt:""}}),t._v(" "),i("input",{ref:"input",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.setAvatar}})])]),t._v(" "),i("ul",[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],attrs:{placeholder:"昵称",type:"text"},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}})]),t._v(" "),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.declaration,expression:"declaration"}],attrs:{placeholder:"个性宣言",type:"text"},domProps:{value:t.declaration},on:{input:function(e){e.target.composing||(t.declaration=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"sure",on:{click:t.submit}},[t._v("确定")])],1)};lt._withStripped=!0;var ct={name:"userinfo",data:()=>({user:"",nickname:"",declaration:"",avatarPath:"",avatar:null,title:"个人资料设置"}),created(){this.user=this.$route.query.user,this.pullInfo()},computed:{renderImgPath(){let t=this.avatarPath;if(t){var e=/\\avatar\\\d+\.\w+/.exec(t);return e?e[0].replace(/\\/g,"/"):t}}},methods:{setAvatar(t){console.log(t);let e=this.avatar=t.target.files[0];const i=new FileReader;i.readAsDataURL(e),i.addEventListener("load",()=>{this.avatarPath=i.result})},handleClick(){this.$refs.input.click()},pullInfo(){this.axios.get("/user/info",{params:{user:this.user}}).then(t=>{let e=t.data.data;this.renderInfo(e)})},renderInfo(t){this.nickname=t.nickname,this.declaration=t.declaration,this.avatarPath=t.avatar},submit(){let t=new FormData;JSON.parse(JSON.stringify(this.$data));t.append("nickname",this.nickname),t.append("declaration",this.declaration),t.append("avatar",this.avatar),t.append("user",this.user),this.axios.post("/user/update",t,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{})}}},dt=(i(126),Object(c.a)(ct,lt,[],!1,null,null,null));dt.options.__file="src/page/setting/personalInfo.vue";var ut=dt.exports,ht=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"add-friend"}},[e("Header",{attrs:{title:"添加好友"}}),this._v(" "),e("SearchBox",{attrs:{showResult:this.showResult,searchResult:this.friendInfo,placeholder:"请输入好友id"},on:{search:this.searchFriend,add:this.addFriend}})],1)};ht._withStripped=!0;var pt={name:"addFriend",components:{},data:()=>({title:"添加好友",showResult:!1,friend:"",friendInfo:{nickname:"",declaration:"",status:!1}}),computed:(Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t})({},Object(o.b)(["socket"])),methods:{},created(){},methods:{searchFriend(t){this.axios.get("/info/user/"+t).then(t=>{let e=t.data;"1"===e.code?this.showSearchResult(e):this.showSearchResult(null)}).catch(t=>{this.showResult=!1,console.log(t)})},showSearchResult(t){if(t){Object.keys(JSON.parse(JSON.stringify(this.friendInfo))).forEach(e=>{this.friendInfo[e]=t[e]}),this.friendInfo.status=!0}else this.friendInfo.status=!1;this.showResult=!0},addFriend(t){this.socket.emit("addFriend",{from:this.$route.query.user,to:t,type:"requst"})}}},mt=(i(128),Object(c.a)(pt,ht,[],!1,null,null,null));mt.options.__file="src/page/friends/addFriend.vue";var vt=mt.exports,ft=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"group-chat"}},[e("Header",{attrs:{title:"加入群聊"}}),this._v(" "),e("SearchBox",{attrs:{showResult:this.showResult,searchResult:this.groupInfo,placeholder:"请输入群id",type:"group"},on:{search:this.searchGroup,add:this.addGroup}}),this._v(" "),e("div",{staticClass:"guide"},[e("router-link",{attrs:{to:{path:"/createGroup",query:{user:this.$route.query.user}}}},[this._v("或者自己建一个群聊？")])],1)],1)};ft._withStripped=!0;var gt={name:"group",components:{},data:()=>({title:"加入群聊",showResult:!1,groupInfo:{name:"",location:"",isInGroup:!1,status:!1}}),computed:{},methods:{searchGroup(t){const e=this.$route.query.user;this.axios.post("/group/search/id/"+t).then(t=>{"1"==(t=t.data).code?(this.groupInfo.name=t.name,this.groupInfo.location=t.location,this.groupInfo.isInGroup=-1!==t.users.indexOf(e),this.groupInfo.status=!0):(this.groupInfo.status=!1,console.log(t)),this.showResult=!0},t=>{this.showResult=!1})},addGroup(t){this.axios.post(`/group/add/id/${t}/user/${this.$route.query.user}`).then(()=>{})}},created(){}},xt=(i(130),Object(c.a)(gt,ft,[],!1,null,null,null));xt.options.__file="src/page/group/index.vue";var _t=xt.exports,bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Header",{attrs:{title:"新建一个群聊"}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"群名称"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v("\n  加群验证："),i("input",{directives:[{name:"model",rawName:"v-model",value:t.validate,expression:"validate"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.validate)?t._i(t.validate,null)>-1:t.validate},on:{change:function(e){var i=t.validate,s=e.target,o=!!s.checked;if(Array.isArray(i)){var n=t._i(i,null);s.checked?n<0&&(t.validate=i.concat([null])):n>-1&&(t.validate=i.slice(0,n).concat(i.slice(n+1)))}else t.validate=o}}}),t._v(" "),i("button",{on:{click:t.submit}},[t._v("确认")])],1)};bt._withStripped=!0;var wt={name:"add-group",components:{},data:()=>({title:"新建群聊",name:"",validate:!1}),computed:{},methods:{submit(){this.axios.post("group/create",{name:this.name,validate:this.validate,user:this.$route.query.user}).then(()=>{},t=>{})}},mounted(){},created(){}},yt=(i(132),Object(c.a)(wt,bt,[],!1,null,null,null));yt.options.__file="src/page/group/createGroup.vue";var kt=yt.exports,Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"message-list"}},[t.userList?i("ul",t._l(t.friendsInfo,(function(e){return i("li",{key:e.user,staticClass:"user-item",on:{click:function(i){return t.clickUser(e.user)}}},[i("span",{staticClass:"avatar"},[i("img",{attrs:{src:t._f("renderImgPath")(e.avatar),alt:""}})]),t._v(" "),i("div",{staticClass:"info"},[i("div",{staticClass:"nickname"},[t._v(t._s(e.user))]),t._v(" "),i("div",{staticClass:"last-msg"},[t._v("最后一句话")])]),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:t.unreadMsgCount.single[e.user]>0,expression:"unreadMsgCount.single[friend.user] > 0"}],staticClass:"unread-count"},[t._v(t._s(t.unreadMsgCount.single[e.user]))])])})),0):i("div",[t._v("\n   当前无消息\n  ")])])};Ct._withStripped=!0;var St={name:"messages-list",mixins:[U],created(){},computed:(Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t})({},Object(o.b)(["unreadMsgCount","friendsInfo"]),{userList(){return this.$store.state.userList}}),methods:{clickUser(t){let e=this.userList[t];this.$store.commit("switchChatBox"),this.$store.commit("setCurrentFriend",{id:e,user:t}),this.$store.commit("setUnreadCount",{type:"single",key:t,count:0})}}},Ot=(i(134),Object(c.a)(St,Ct,[],!1,null,null,null));Ot.options.__file="src/page/message/index.vue";var $t=Ot.exports,It=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"frind-list"}},[t.friendsInfo?[i("div",{staticClass:"roll"},[t._v("我的好友")]),t._v(" "),i("ul",{staticClass:"friend"},t._l(t.friendsInfo,(function(e){return i("li",{key:e.user,staticClass:"user-item",on:{click:function(i){return t.clickUser(e.user)}}},[i("span",{staticClass:"avatar"},[i("img",{attrs:{src:t._f("renderImgPath")(e.avatar),alt:""}})]),t._v(" "),i("div",{staticClass:"info"},[i("div",{staticClass:"nickname"},[t._v(t._s(e.nickname))]),t._v(" "),i("div",{staticClass:"feeling"},[i("span",[t._v("["+t._s(t.userList&&t.userList[e.user]?"当前在线":"离线")+"] ")]),t._v(t._s(e.declaration))])])])})),0),t._v(" "),i("div",{staticClass:"roll"},[t._v("我的群")]),t._v(" "),i("ul",{staticClass:"group"},t._l(t.groupsInfoList,(function(e){return i("li",{key:e.id,staticClass:"user-item",on:{click:function(i){return t.clickGroup(e)}}},[i("span",{staticClass:"avatar"}),t._v(" "),i("div",{staticClass:"info"},[i("div",{staticClass:"nickname"},[t._v(t._s(e.name)+t._s(e.id))]),t._v(" "),i("div",{staticClass:"feeling"})])])})),0)]:i("div",[t._v("\n    暂无好友\n  ")])],2)};It._withStripped=!0;var jt={name:"friends-list",mixins:[U],created(){console.log("userlist",this.userList)},computed:(Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t})({},Object(o.b)(["userList","friendsInfo","groupsInfoList","unreadMsgCount"])),methods:{clickUser(t){let e=this.userList[t];this.$store.commit("switchChatBox",{type:"single"}),this.$store.commit("setCurrentFriend",{id:e,user:t}),this.$store.commit("setUnreadCount",{type:"single",key:t,count:0})},clickGroup(t){this.$store.commit("switchChatBox",{type:"group"}),this.$store.commit("setCurrentGroup",t)}}},Tt=(i(136),Object(c.a)(jt,It,[],!1,null,null,null));Tt.options.__file="src/page/friends/friendList.vue";var Mt=Tt.exports,zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"setting-list"}},[i("div",{staticClass:"setting-box"},[i("ul",[i("li",[i("router-link",{attrs:{to:{path:"info",query:{user:t.user}}}},[t._v("个人资料")])],1),t._v(" "),i("li",[t._v("进入朋友圈")]),t._v(" "),i("li",[t._v("夜间")]),t._v(" "),i("li",[i("router-link",{attrs:{to:{path:"group",query:{user:t.user}}}},[t._v("加入群聊")])],1),t._v(" "),i("li",[i("router-link",{attrs:{to:{path:"addFriend",query:{user:t.user}}}},[t._v("添加好友")])],1),t._v(" "),i("li",[i("div",{staticClass:"loginout",on:{click:t.loginout}},[t._v("退出登录")])])])])])};zt._withStripped=!0;var Et={name:"setting-box",inject:["user"],methods:{loginout(){console.log("退出"),F.remove("chat"),this.$router.push("/login"),window.socket.disconnect()}}},Ft=(i(138),Object(c.a)(Et,zt,[],!1,null,null,null));Ft.options.__file="src/page/setting/index.vue";var Pt=Ft.exports,At=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._v("\n  test\n  <% name %>\n  "),e("div",{directives:[{name:"clip",rawName:"v-clip"}]},[this._v("aaa")]),this._v(" "),e("TestSon")],1)};At._withStripped=!0;var Gt=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("test son")])};Gt._withStripped=!0;var Lt={components:{},data:()=>({}),computed:{},methods:{},beforeCreate(){console.log("son before create")},created(){console.log("son created")},beforeMount(){console.log("son before mount")},mounted(){console.log("son mounted")},beforeUpdate(){console.log("son before update")},updated(){console.log("son update")},beforeDestroy(){console.log("son before destroy")},destroyed(){console.log("son destroyed")}},Bt=(i(140),Object(c.a)(Lt,Gt,[],!1,null,null,null));Bt.options.__file="src/page/test/test_son.vue";var Rt={components:{TestSon:Bt.exports},data:()=>({}),computed:{},methods:{},beforeCreate(){console.log("index before create")},created(){console.log("index created")},beforeMount(){console.log("index before mount")},mounted(){console.log("index mounted")},beforeUpdate(){console.log("index before update")},updated(){console.log("index update")},beforeDestroy(){console.log("index before destroy")},destroyed(){console.log("index destroyed")}},Nt=(i(142),Object(c.a)(Rt,At,[],!1,null,null,null));Nt.options.__file="src/page/test/index.vue";var qt=[{path:"/",component:Y,children:[{path:"/",component:$t},{path:"/friends",component:Mt},{path:"/settings",component:Pt}]},{path:"/info",component:ut},{path:"/addFriend",component:vt},{path:"/group",component:_t},{path:"/createGroup",component:kt},{path:"/login",component:st},{path:"/regist",component:at},{path:"/test",component:Nt.exports}];var Ht={state:{socket:null,userList:null,friendsInfo:[],groupsInfoList:[],isChatOpen:!1,currentChatType:"",currentFirend:{},currentGroup:{},unreadMsgCount:{single:{},group:{}},msgStore:{single:{},group:{}},avatarMap:null,groupIds:[]},getters:{},mutations:{initSocket(t,e){t.socket=e},setUserList(t,e){t.userList=e},setFriendsInfo(t,e){t.friendsInfo=e},setGroupsInfoList(t,e){t.groupsInfoList=e},switchChatBox(t,e){t.isChatOpen=!t.isChatOpen,t.currentChatType=e&&e.type},setCurrentFriend(t,e){t.currentFirend=e},setMessageStore(t,e){console.log("playload",e);let{single:i,group:o}=t.msgStore,n=e.type;if("single"===n){let t="recive"===e.action?e.from:e.to;i[t]||s.a.set(i,t,[]),i[t].push(e)}else if("group"===n){let t=e.to;o[t]||s.a.set(o,t,[]),o[t].push(e)}},setUnreadCount(t,e){let{single:i}=t.unreadMsgCount,{key:o,type:n,count:r}=e;"single"===n&&(i[o]||s.a.set(i,o,0)),void 0===r?i[o]++:i[o]=r},setAvatarMap(t,e){t.avatarMap=e},setGroupIds(t,e){e.forEach((e,i)=>{s.a.set(t.groupIds,i,e)})},setCurrentGroup(t,e){t.currentGroup=e}}};i(146);s.a.config.devtools=!0,s.a.use(h.a),s.a.use(o.a),s.a.use(T,{requst:r.a}),s.a.use(z);const Ut=new h.a({routes:qt}),Kt=new o.a.Store(Ht);new s.a({el:"#app",router:Ut,store:Kt,render:t=>t(u)})}]);